var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__pow=Math.pow,__defNormalProp=(t,e,r)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues=(t,e)=>{for(var r in e||(e={}))__hasOwnProp.call(e,r)&&__defNormalProp(t,r,e[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))__propIsEnum.call(e,r)&&__defNormalProp(t,r,e[r]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),__objRest=(t,e)=>{var r={};for(var n in t)__hasOwnProp.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&__getOwnPropSymbols)for(var n of __getOwnPropSymbols(t))e.indexOf(n)<0&&__propIsEnum.call(t,n)&&(r[n]=t[n]);return r},__async=(t,e,r)=>new Promise(((n,i)=>{var o=t=>{try{l(r.next(t))}catch(e){i(e)}},a=t=>{try{l(r.throw(t))}catch(e){i(e)}},l=t=>t.done?n(t.value):Promise.resolve(t.value).then(o,a);l((r=r.apply(t,e)).next())}));!function(){"use strict";const t=(t,e=["userway"])=>{const r=__spreadProps(__spreadValues({},t),{isUserWay:!0});e.forEach((t=>{let e=window.frames[t];if(!e||"function"!=typeof e.postMessage)try{e=document.querySelector(`iframe[name=${t}]`),e=e?e.contentWindow:null}catch(n){console.error(n)}e&&e.postMessage(r,"*")}))},e=(t,e)=>{if(t===document)return!0;const r=t,n=getComputedStyle(r),i=r.getBoundingClientRect(),o=(t=>t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth))(i),a=0===i.width||0===i.height,l="0"!==n.opacity&&"hidden"!==n.visibility&&"none"!==n.display&&"collapse"!==n.visibility;return(r.offsetWidth>0||r.offsetHeight>0||r.getClientRects().length>0)&&(!e.shouldBeInViewport||o)&&!a&&l},r=t=>t.nodeType===Node.ELEMENT_NODE,n=t=>{if(!r(t))return!1;const e=t.getAttribute("aria-hidden"),n=t.getAttribute("hidden");return(t=>!!r(t)&&"none"===window.getComputedStyle(t).display)(t)||"true"===e||null!==n&&""!==n},i=t=>{if(!r(t))return!1;const e=t.getAttribute("aria-hidden"),n=t.getAttribute("hidden");return"true"===e||null!==n&&""!==n||void 0},o=["NOSCRIPT","SCRIPT","style"],a=(t,e,r={includeTextFromVisuallyHiddenElements:!1})=>{var l;const{includeTextFromVisuallyHiddenElements:s}=r;for(let u=0;u<t.length;u++){let c=t[u];switch(c.nodeType){case Node.TEXT_NODE:e+=" "+(null==(l=c.textContent)?void 0:l.trim().replace(/(\n|\r\n)/g,""));break;case Node.ELEMENT_NODE:if(o.includes(c.tagName)||(s?i(c):n(c)))break;const t=c.getAttribute("aria-hidden"),u=c.getAttribute("alt"),d=c.getAttribute("aria-label");if(!t||"false"===t){if(d){e+=" "+d;break}u&&(e+=u+" "),"IMG"!==c.tagName&&(e=a(c.childNodes,e,r))}}}return e},l=(t,e="",r={includeTextFromVisuallyHiddenElements:!1})=>{let n=e;return(e=a(t.childNodes,n,r)).replace(/\s+/g," ").trim()},s=t=>{let e=t.split(" "),r="";for(let n=0;n<e.length;n++){let t=document.getElementById(e[n]);t&&(r=l(t,r))}return r},u=(t,e={})=>{var r,n,i;let o=null!=(n=null==(r=t.getAttribute("aria-label"))?void 0:r.trim())?n:"";const a=!(null==(i=null==e?void 0:e.excludeAttribute)?void 0:i.includes("aria-describedby"))&&t.getAttribute("aria-describedby");if(o+=a?d(a):"",o)return o.toLowerCase();const s=t.getAttribute("aria-labelledby");if(s&&(o+=d(s)),o.trim())return o.toLowerCase();if(o=l(t),o.trim())return o.toLowerCase();if("INPUT"===t.tagName){const e=t;if(o=e.value||"",o.trim()&&e.type&&["button","submit","reset"].includes(e.type.toLowerCase()))return o.toLowerCase()}if(!t.hasChildNodes())return null;let u=t.querySelector('img, *[role="img"]');return u&&(o=c(u)||"",o.trim())?o.toLowerCase():null},c=t=>{const e=t.alt;if(e&&e.trim())return e.trim();const r=t.getAttribute("aria-label");if(r&&r.trim())return r.trim();const n=t.getAttribute("aria-describedby");if(n){const t=d(n);if(t)return t}const i=t.getAttribute("aria-labelledby");if(i){let t=d(i);if(t)return t}return null},d=t=>t.split(" ").reduce(((t,e)=>{const r=document.getElementById(e.trim());if(!r)return t;if((t=>["noscript","style","img","script","br","hr"].includes(t.tagName.toLowerCase()))(r))return t;const n=l(r);return n?t+" "+n:t}),"").trim(),p=()=>"uw"+(~~(1e8*Math.random())).toString(16),m=(t,e="")=>{const r=document.createElement("span");return r.textContent=t,r.style="color: #ffffff!important;background: #000000!important;clip: rect(1px, 1px, 1px, 1px)!important;clip-path: inset(50%)!important;height: 1px!important;width: 1px!important;margin: -1px!important;overflow: hidden!important;padding: 0!important;position: absolute!important;",r.setAttribute("class",e),r.setAttribute("data-uw-reader-element",""),r.setAttribute("data-uw-rm-ignore",""),r},g=(t,e=0)=>{let r=3735928559^e,n=1103547991^e;for(let i,o=0;o<t.length;o++)i=t.charCodeAt(o),r=Math.imul(r^i,2654435761),n=Math.imul(n^i,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)},f=(t,e=!1)=>{var r;if("html"===t.nodeName.toLowerCase())return"/HTML";if("body"===t.nodeName.toLowerCase())return"/HTML/BODY";if("head"===t.nodeName.toLowerCase())return"/HTML/HEAD";let n=0;const i=null==(r=t.parentElement)?void 0:r.children;if(!i)return"";for(let o=0;o<i.length;o++){let r=i[o];if(r===t)return f(t.parentElement,!0)+`/${t.tagName}[${n+1}]`+(e?"":h(t));r.tagName===t.tagName&&n++}return""};function h(t){const e={s:"src",h:"href"},r=t.innerText?g(t.innerText):"";return Object.keys(e).reduce(((r,n)=>{const i=e[n],o=t.getAttribute(i)||"";return t.hasAttribute&&t.hasAttribute(i)&&""!==o?r+";"+n+":"+g(o):r}),"|"+r)}const b=new RegExp("^(data:)"),A=new RegExp("(.)(gif|jpe?g|tiff?|png|webp|bmp)","i"),E=t=>{if(b.test(t))return t;t&&(t=t.replace(/^(http|https)(:\/\/)/,"").replace(/^(www\.)/,""));const e=t.match(A);return(null==e?void 0:e.index)&&(null==e?void 0:e.length)?t.substring(0,e.index+e[0].length):t.split("?")[0]},y=t=>[].slice.call(document.querySelectorAll(t)),v=(t,e,r=!1)=>t.reduce(((t,n)=>{const i=r&&n.position?":nth-of-type("+n.position+")":"";return t+=n.tag+i+(n.idx>=e?">":" ")}),"").slice(0,-1),_=(t,e)=>{if(null===e)return!0;const r=t.innerText?g(t.innerText).toString():"";if(e.innerText.toString()!==r)return!1;const n=t.hasAttribute("href")?g(t.getAttribute("href")).toString():"";if(e.href&&e.href!==n)return!1;const i=t.hasAttribute("src")?g(t.getAttribute("src")).toString():"";return!e.src||e.src===i},w=(t,e=null,r)=>{const n=y(t);if(1===n.length){if(null==r.params)return n[0];if(_(n[0],e))return n[0]}if(n.length>1){if(null==r.params)return null;const t=n.filter((t=>_(t,e)));if(1===t.length)return t[0]}return null};var T=(t=>(t[t.Strict=0]="Strict",t[t.Medium=1]="Medium",t[t.Loose=2]="Loose",t))(T||{});const N={i:"innerText",s:"src",h:"href"},x=t=>{const[e,r]=t.split("|");let n={innerText:""};if(r){const[t,...e]=r.split(";");n.innerText=t,e.forEach((t=>{const[e,r]=t.split(":");n[N[e]]=r}))}return{xpath:e,params:n}},I=t=>{if("/HTML/BODY"===t)return y("html>body")[0];const{xpath:e,params:r}=x(t),n=((t,e)=>{const r=("/"===t[0]?t.slice(1):t).split("/");return r.map(((t,n)=>{const i=t.toLowerCase(),[,o,a]=i.match(/(\S+)\[(\S+)?\]/)||[,i],l=r.length-1===n,s={idx:n,tag:o};return a&&(s.position=+a),l&&e&&(s.params=e),s}))})(e,r);return((t,e=4)=>{let r=t.length-2-e;const n=t[t.length-1];let i;const o=n.params;if(r<0){i=v(t,0,!0);return w(i,o,n)||(i=v(t,0),w(i,o,n))}const a=a=>{for(r=t.length-2-e;r>=0;r--){i=a===T.Loose?v(t.slice(0,2).concat(...t.slice(-r-e)),t.length-e):v(t,t.length-e-r-1,a===T.Strict);const l=w(i,o,n);if(l)return l}},l=[T.Strict,T.Medium,T.Loose];for(let s=0;s<l.length;s++){const t=a(l[s]);if(t)return t}return null})(n)},L=t=>{const{xpath:e,params:r}=x(t),n=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return n&&_(n,r)?n:null},S=t=>{let e=t.closest("label"),r="";if(e){for(let t of e.childNodes)t.nodeType===Node.TEXT_NODE&&(r+=t.textContent);if(r.trim())return r.trim()}if(t.id){let e=(t=>{const e=document.querySelectorAll("LABEL");for(let r=0;r<e.length;r++)if(e[r].htmlFor===t)return e[r];return null})(t.id);if(e)return l(e,"")}const n=t.getAttribute("aria-label"),i=t.getAttribute("aria-labelledby");if(n)return n;if(i)return s(i);const o=t.getAttribute("title");if(o)return o;return l(t,"")||""},C=["script","noscript","style","meta","link","path","circle","rect","ellipse","line","polygon","polyline","g"],O=[".uwy",".uwy *",".uw-sl *"],R=["data-uw-ignore","data-uw-rm-ignore"],k=(t,e=3)=>{const r=(t,e)=>{if(e<1)return"";const n=t.childElementCount;let i="";return n||(i+=t.textContent),!i&&t.length&&(i+=t.nodeValue),n&&t.childNodes.length&&(i+=[...t.childNodes].map((t=>r(t,e-1))).join(" ")),i};return r(t,e)},D=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),M=t=>{try{const e=new URL(t);return["http:","https:"].includes(e.protocol)}catch(e){return!1}},P=t=>!(t instanceof HTMLElement)||R.some((e=>t.hasAttribute(e)))||O.some((e=>t.classList.contains(e)))||C.includes(t.nodeName.toLowerCase()),U=(t,e)=>{try{if("childList"===e){const e=[...t.addedNodes].reduce(((t,e)=>{if(e instanceof HTMLElement){const r=[...e.getElementsByTagName("*")];return[...t,...r]}return t}),[]);return[].filter.call([...t.addedNodes,...e],(t=>!P(t)))}return"attributes"===e?P(t.target)?[]:[t.target]:[]}catch(r){return[]}},B={AriaEditorValues:[],BrokenLink:[],Contrast:[],EmptyControls:[],ExternalLink:[],Forms:[],Headings:[],Language:[],MissingAlts:[],Pdfs:[],VagueLinks:[]},W=t=>__async(this,null,(function*(){const e=yield fetch(t),r=yield e.json();return __spreadValues(__spreadValues({},B),r)})),$=UserWayWidgetApp.ContextHolder.config.remediation,H=UserWayWidgetApp.ContextHolder.config.tunings,j=UserWayWidgetApp.ContextHolder.config.services,V=UserWayWidgetApp.ContextHolder.config.imageAlt,F=UserWayWidgetApp.ContextHolder.config.settings,{isMobile:X,language:q}=UserWayWidgetApp.ContextHolder.config;let G={};function K(t){G=__spreadValues({},t)}function z(){return G}const Z=()=>__async(this,null,(function*(){if(null==$?void 0:$.consolidated){const t=yield W($.consolidated);return t.MissingAlts.reverse(),void K(t)}K(B)})),Y="https://api.userway.org/api/",Q="https://cdn77.api.userway.org/";var J=(t=>(t.Remediation="remediation",t.AriaEditor="aria-editor",t))(J||{}),tt=(t=>(t.KeyboardNavEnabled="app-key-nav-enabled",t))(tt||{});const et=t=>{const e=UserWayWidgetApp.getLib("util"),{registerPostMessageListener:r}=e;return r((e=>{var r;(null==(r=null==e?void 0:e.data)?void 0:r.isUserWay)&&t(e)}))},rt=document.documentElement,nt={attributes:!0,attributeFilter:["aria-label","alt"],childList:!0,subtree:!0},it=new Set,ot=t=>{it.add(t)},at=new MutationObserver((t=>{const e=(t=>{const e=[];for(const r of t)e.push(...U(r,r.type));return e})(t);e.length&&it.forEach((t=>t(e)))})),lt=[{src:"wave.min.js",name:"Wave"},{src:"axe.min.js",name:"BrowserStack"}],st=[{url:"wave.webaim.org",name:"Wave"}],ut=(t,e)=>{try{const r=[];return"childList"===e&&t.addedNodes.length&&t.addedNodes.forEach((t=>{const e=(t=>{if("script"===t.nodeName.toLowerCase()){const e=lt.find((e=>t.src.includes(e.src)));if(e)return e}return"iframe"===t.nodeName.toLowerCase()&&t.title.toLowerCase().includes("equalweb")?{name:"EqualWeb"}:null})(t);e&&r.push(e)})),r}catch(r){return[]}},ct=(t,e)=>__async(this,null,(function*(){const{account:r}=UserWayWidgetApp.ContextHolder.config,n={date:(new Date).toISOString(),url:window.location.href,scannerName:t,a11yScore:e};yield fetch(`${Y}scaner-activity/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch((t=>{console.log(t)}))})),dt=t=>{try{UserWayWidgetApp.getLib("scan_manager").accessibilityScore().then((e=>{ct(t,e)}))}catch(e){console.log(e)}},pt=document.documentElement,mt={childList:!0,subtree:!0},gt=new MutationObserver((t=>{const e=(t=>{const e=[];for(const r of t)e.push(...ut(r,r.type));return e})(t)[0];e&&dt(e.name)}));var ft="object"==typeof global&&global&&global.Object===Object&&global,ht="object"==typeof self&&self&&self.Object===Object&&self,bt=ft||ht||Function("return this")(),At=bt.Symbol,Et=Object.prototype,yt=Et.hasOwnProperty,vt=Et.toString,_t=At?At.toStringTag:void 0;var wt=Object.prototype.toString;var Tt=At?At.toStringTag:void 0;function Nt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Tt&&Tt in Object(t)?function(t){var e=yt.call(t,_t),r=t[_t];try{t[_t]=void 0;var n=!0}catch(o){}var i=vt.call(t);return n&&(e?t[_t]=r:delete t[_t]),i}(t):function(t){return wt.call(t)}(t)}var xt=/\s/;var It=/^\s+/;function Lt(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&xt.test(t.charAt(e)););return e}(t)+1).replace(It,""):t}function St(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Ct=/^[-+]0x[0-9a-f]+$/i,Ot=/^0b[01]+$/i,Rt=/^0o[0-7]+$/i,kt=parseInt;function Dt(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==Nt(t)}(t))return NaN;if(St(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=St(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Lt(t);var r=Ot.test(t);return r||Rt.test(t)?kt(t.slice(2),r?2:8):Ct.test(t)?NaN:+t}var Mt=function(){return bt.Date.now()},Pt=Math.max,Ut=Math.min;function Bt(t,e,r){var n,i,o,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var r=n,o=i;return n=i=void 0,u=e,a=t.apply(o,r)}function g(t){var r=t-s;return void 0===s||r>=e||r<0||d&&t-u>=o}function f(){var t=Mt();if(g(t))return h(t);l=setTimeout(f,function(t){var r=e-(t-s);return d?Ut(r,o-(t-u)):r}(t))}function h(t){return l=void 0,p&&n?m(t):(n=i=void 0,a)}function b(){var t=Mt(),r=g(t);if(n=arguments,i=this,s=t,r){if(void 0===l)return function(t){return u=t,l=setTimeout(f,e),c?m(t):a}(s);if(d)return clearTimeout(l),l=setTimeout(f,e),m(s)}return void 0===l&&(l=setTimeout(f,e)),a}return e=Dt(e)||0,St(r)&&(c=!!r.leading,o=(d="maxWait"in r)?Pt(Dt(r.maxWait)||0,e):o,p="trailing"in r?!!r.trailing:p),b.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=i=l=void 0},b.flush=function(){return void 0===l?a:h(Mt())},b}const Wt="AUTO";let $t=!0;const Ht=t=>{setTimeout((()=>{$t=!1}),2e3);const e=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return St(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Bt(t,e,{leading:n,maxWait:e,trailing:i})}((e=>t(e)),300,{leading:!0,trailing:!0}),r=Bt((e=>t(e)),500,{maxWait:2e3,leading:!0,trailing:!0});return{run:t=>$t?e(t):r(t)}};var jt=(t=>(t.TABINDEX="tabindex",t.ROLE="role",t.TYPE="type",t.SRC="src",t.ARIA_LEVEL="ariaLevel",t.ORIGINAL_ALT="originalAlt",t))(jt||{}),Vt=(t=>(t.UNKNOWN="UNKNOWN",t.NOT_ALLOWED="NOT_ALLOWED",t.TEXT_NODE="TEXT_NODE",t.LANDMARK="LANDMARK",t.CONTROL="CONTROL",t.HEADING="HEADING",t.HAS_ALT_DESCRIPTION="HAS_ALT_DESCRIPTION",t.COMPOSED_TEXT_NODES="COMPOSED_TEXT_NODES",t.IFRAME="IFRAME",t.HIDDEN_FOR_READER="HIDDEN_FOR_READER",t))(Vt||{}),Ft=(t=>(t.UNKNOWN="unknown",t.TEXT="text",t.IMAGE="image",t.HEADING="heading",t.FOOTER="footer",t.HEADER="header",t.NAV="nav",t.MAIN="main",t.FORM="form",t.LANDMARK="landmark",t.LINK="link",t.BUTTON="button",t.CHECKBOX="checkbox",t.RADIOBUTTON="radiobutton",t.INPUT="input",t.TEXTAREA="textarea",t.SELECT="select",t.ABBR="abbr",t.LIST_ITEM="list item",t))(Ft||{});const Xt="accessibility-tree-observer",qt=["uw-sl","uwy","uw-s10-reading-guide","uw-s12-tooltip"],Gt=(t,e)=>e.ariaLabel?e.ariaLabel:e.ariaLabelledBy?s(e.ariaLabelledBy):l(t,""),Kt={},zt=UserWayWidgetApp.getLib("accessibility_tree_walker");let Zt,Yt=[],Qt=1;const Jt=(t,e)=>{var r;if(Yt=[],(t=>{const e=3===t.nodeType;return qt.some((e=>!!t.closest&&t.closest(`.${e}`)))||!e&&t.hasAttribute("data-uw-rm-ignore")})(t)&&!e)return null;const n={node:t,type:zt.identifyElementType(t)},i=(t=>{if(!t||!t.type)return{};const{node:e}=t;return[Vt.UNKNOWN,Vt.NOT_ALLOWED,Vt.TEXT_NODE].includes(t.type)?{uwAtoId:e.uwAtoId}:{tagName:e.tagName,tabindex:e.getAttribute("tabindex")||"",role:e.getAttribute("role")||"",ariaLevel:e.getAttribute("aria-level")||"",ariaLabel:e.getAttribute("aria-label")||"",ariaLabelledBy:e.getAttribute("aria-labelledby")||"",type:e.getAttribute("type")||"",uwAtoId:e.uwAtoId}})(n);Zt=zt.identifyElementType(t);const o=Zt===Vt.HIDDEN_FOR_READER;let a,u;switch(Yt=(t=>(t.tabindex&&Yt.push({name:jt.TABINDEX,value:t.tabindex}),t.role&&Yt.push({name:jt.ROLE,value:t.role}),t.type&&Yt.push({name:jt.TYPE,value:t.type}),t.ariaLevel&&Yt.push({name:jt.ARIA_LEVEL,value:t.ariaLevel}),Yt))(i),o&&((t,e)=>{const r=t.cloneNode(!0);r.removeAttribute("aria-hidden"),Zt=zt.identifyElementType(r),Zt!==Vt.UNKNOWN||"IMG"!==e.tagName&&"img"!==e.role||(Zt=Vt.HAS_ALT_DESCRIPTION)})(t,i),Zt){case Vt.TEXT_NODE:a=(t=>{const e=Ft.TEXT;let r="";t.textContent&&(r=t.textContent.trim().replace(/(\n|\r\n)/g,"").replace(/\s+/g," "));const n={};return t.parentElement&&(n.parentXpath=f(t.parentElement)),{semanticType:e,textToRead:r,additionalParams:n}})(t),Kt.parentXpath=null==(r=a.additionalParams)?void 0:r.parentXpath;break;case Vt.COMPOSED_TEXT_NODES:a=((t,e)=>({semanticType:"LI"===e.tagName?Ft.LIST_ITEM:Ft.TEXT,textToRead:e.ariaLabel||l(t,"")}))(t,i);break;case Vt.HIDDEN_FOR_READER:a={semanticType:Ft.UNKNOWN,textToRead:""};break;case Vt.HEADING:a=((t,e)=>({semanticType:Ft.HEADING,textToRead:e.ariaLabel||l(t,"")}))(t,i);break;case Vt.LANDMARK:a=(t=>{let e,r="";t.ariaLabel?r=t.ariaLabel:t.ariaLabelledBy&&(r=s(t.ariaLabelledBy));const{tagName:n}=t,{role:i}=t;return e="FOOTER"===n||"contentinfo"===i?Ft.FOOTER:"HEADER"===n||"banner"===i?Ft.HEADER:"FORM"===n||"form"===i?Ft.FORM:"MAIN"===n||"main"===i?Ft.MAIN:"NAV"===n||"navigation"===i?Ft.NAV:Ft.LANDMARK,{semanticType:e,textToRead:r}})(i);break;case Vt.CONTROL:a=((t,e)=>{const{tagName:r,role:n,type:i,ariaLabel:o,ariaLabelledBy:a}=e;let l=!1,u="",c=Ft.TEXT;return"menuitem"===n||"option"===n?(u=Gt(t,e),l=!0):"link"===n||"A"===r&&!n?(c=Ft.LINK,u=Gt(t,e),l=!0):"button"===n||"BUTTON"===r?(c=Ft.BUTTON,u=Gt(t,e),l=!0):"INPUT"!==r||"button"!==i&&"submit"!==i&&"reset"!==i||(c=Ft.BUTTON,o?u=o:a&&(u=s(a)),l=!0),l||(u=S(t),"checkbox"===n||"INPUT"===r&&"checkbox"===i?c=Ft.CHECKBOX:"radio"===n||"INPUT"===r&&"radio"===i?c=Ft.RADIOBUTTON:"INPUT"===r&&(c=Ft.INPUT),"TEXTAREA"===r&&(c=Ft.TEXTAREA),"SELECT"===r&&(c=Ft.SELECT)),{semanticType:c,textToRead:u}})(t,i);break;case Vt.HAS_ALT_DESCRIPTION:a=((t,e,r)=>{const{tagName:n,role:i,ariaLabel:o}=e,a=t.getAttribute("alt")||"",l=t.getAttribute("title")||"",s=t.getAttribute("data-uw-rm-ima-original")||"";let u="",c=Ft.TEXT;const d=r;return"IMG"!==n&&"img"!==i||(c=Ft.IMAGE,d.push({name:jt.SRC,value:t.src}),d.push({name:jt.ORIGINAL_ALT,value:s}),u=o||a||s||u),"ABBR"===n&&(c=Ft.ABBR,u=l),{semanticType:c,textToRead:u,attributesToReturn:d}})(t,i,Yt),a.attributesToReturn&&(Yt=a.attributesToReturn);break;case Vt.UNKNOWN:a=((t,e)=>{let r=Ft.TEXT;return"DIV"!==e.tagName||t.innerHTML||(r=Ft.LANDMARK),{semanticType:r,textToRead:""}})(t,i);break;default:a={textToRead:"",semanticType:Ft.TEXT}}return i.uwAtoId?u=i.uwAtoId:(u=Qt,Qt+=1,n.node.uwAtoId=u),__spreadValues({id:u,xpath:f(t),label:a.textToRead.replace(/\|/g,"").trim(),tagName:i.tagName||"",type:a.semanticType,hidden:o,attributes:Yt,el:n.node},Kt)},te=UserWayWidgetApp.getLib("accessibility_tree_walker");let ee=[];const re=()=>{let e=null;ee=[];do{const t=te.getNextAccessibilityTreeNode(e);if(!t)break;const r=Jt(t.node);r&&ee.push(r),e=t.node}while(e);ee=ee.map((t=>{const e=t,{el:r}=e;return __objRest(e,["el"])})),t({action:Xt,type:"userway:ato-output:get",data:{nodes:ee,version:Date.now()}},["uwAccessibilityEditor"])},ne=()=>ee,ie={enabled:!1},oe={"userway:ato-input:enable":()=>{ie.enabled||(ie.enabled=!0,ot(re),re())},"userway:ato-input:disable":()=>{var t;ie.enabled&&(ie.enabled=!1,t=re,it.delete(t))},"userway:ato-input:get":re},ae="REMEDIATION_EXTERNAL_LINK_TARGETS",le="data-uw-rm-ext-link",se="REMEDIATION_SKIP_NAVIGATION_LINK",ue=["A","BUTTON","SELECT","TEXTAREA","INPUT"],ce=["skip","pass","jump"],de="REMEDIATION_VAGUE_LINK",pe="data-uw-rm-vglnk",me=["here","click here","clicking","clicking here","download","download now","click","click this","this","link","more","read more","please click here","continue reading","learn more â†’","learn more","more details"],ge={automaticcoupons:/automaticcoupons/,"shopping.yahoo":/shopping\.yahoo/,shopperapproved:/shopperapproved/,rakuten:/rakuten/,"translate.google":/translate\.google/,"maps.googleapis.com":/maps\.googleapis\.com/,"s.w.org":/s\.w\.org/,avatar:/avatar/,companylogos:/companylogos/,favicon:/favicon/,activecampaign:/lt\.php(.*)?l=open/,aweber:/openrate\.aweber\.com/,bananatag:/bl-1\.com/,boomerang:/mailstat\.us\/tr/,"campaign monitor":/cmail(\d+)\.com\/t\//,"cirrus insight":/tracking\.cirrusinsight\.com/,close:/close\.com\/email_opened/,"constant contact":/rs6\.net\/on\.jsp/,contactmonkey:/contactmonkey\.com\/api\/v1\/tracker/,convertkit:/convertkit-mail\.com\/o/,"critical impact":/portal\.criticalimpact\.com\/c2\//,emarsys:/emarsys\.com\/e2t\/o/,gem:/zen\.sr\/o/,getnotify:/email81\.com\/case/,getresponse:/getresponse\.com\/open\.html/,growthdot:/growthdot\.com\/api\/mail-tracking/,front:/app\.frontapp\.com\/(.*)?\/seen/,hubspot:/t\.(hubspotemail|hubspotfree|signaux|senal|sidekickopen|sigopn)/,icontact:/click\.icptrack\.com\/icp/,intercom:/(via\.intercom\.io\/o)|(intercom-mail\.com\/via\/o)/,litmus:/emltrk\.com/,mailchimp:/list-manage\.com\/track/,mailgun:/email\.(mailgun|mg)(.*)?\/o/,mailjet:/mjt\.lu\/oo/,mailspring:/getmailspring\.com\/open/,mailtrack:/(mailtrack\.io\/trace)|(mltrk\.io\/pixel)/,mandrill:/mandrillapp\.com\/track/,marketo:/resources\.marketo\.com\/trk/,mixmax:/(email|track)\.mixmax\.com/,mixpanel:/api\.mixpanel\.com\/track/,nethunt:/nethunt\.co(.*)?\/pixel\.gif/,newton:/tr\.cloudmagic\.com/,outreach:/api\/mailings\/opened/,phplist:/phplist\.com\/lists\/ut\.php/,polymail:/polymail\.io/,postmark:/pstmrk\.it\/open/,"return path":/returnpath\.net\/pixel\.gif/,sailthru:/sailthru\.com\/trk/,salesforce:/nova\.collect\.igodigital\.com/,sendgrid:/wf\/open\?upn/,sendy:/sendy\/t\//,streak:/mailfoogae\.appspot\.com/,superhuman:/r\.superhuman\.com/,thunderhead:/na5\.thunderhead\.com/,tinyletter:/tinyletterapp\.com.*open\.gif/,yamm:/yamm-track\.appspot/,yesware:/t\.yesware\.com/,"zendesk sell":/futuresimple\.com\/api\/v1\/sprite\.png/,bing:/bat\.bing\.com/,teads:/cm\.teads\.tv/},fe=["icon","cart","logo"],he=["h1","h2","h3","h4","h5","h6","span","a","p","figcaption","caption","div"],be=["heading"],Ae=new RegExp("^(data:)"),Ee=new RegExp(/\.svg(\?.*)?$/,"i"),ye=new RegExp(/^[!@#$%^&*()_+{}[\]`:;<>,.?~\\|\-="'/]+$/,"u");var ve=(t=>(t.EXCLUDED_SRC="EXCLUDED_SRC",t.HIDDEN_FROM_SCREEN_READER="HIDDEN_FROM_SCREEN_READER",t.BASE64="BASE64",t.SVG="SVG",t.SMALL_SIZE="SMALL_SIZE",t.MICRO_SIZE="MICRO_SIZE",t.WRONG_SRC="WRONG_SRC",t.ASPECT_RATIO="ASPECT_RATIO",t.CUSTOM_CONFIG="CUSTOM_CONFIG",t))(ve||{});const _e=["SVG","SMALL_SIZE","HIDDEN_FROM_SCREEN_READER"],we="data-uw-rm-alt-original",Te="REMEDIATION_IMAGE_MISSING_ALT",Ne="data-uw-rm-alt",xe=["jpg","jpeg","png","gif","bmp","tiff","tif","svg","webp","ico","apng","heif","heic","avif","eps","raw","cr2","nef","orf","sr2"];var Ie=(t=>(t.CorrectAlt="ALT",t.Reverted="RT",t.Backend="BE",t.Excluded="EX",t.Hidden="HD",t.Base64="BS64",t.Svg="SVG",t.Small="SM",t.Micro="MC",t.InvalidSrc="SRC",t.AspectRatio="AR",t.AI="AI",t.AIQuotaExceed="QU",t.ClosestText="CT",t.CustomConfig="CC",t.NotLoaded="NL",t))(Ie||{});const Le="data-uw-rm-heading",Se="uwAccessibilityEditor",Ce=j.editorBuildUrl,Oe="aria-editor",Re="data-uw-rm-ae",ke="aria-editor",De="REMEDIATION_EMPTY_CONTROLS",Me="data-uw-rm-empty-ctrl",Pe=["facebook","youtube","whatsapp","instagram","twitter","reddit","linkedin","viber","pinterest","telegram","search","cart","home"],Ue={prev:"Get previous item",next:"Get next item",scroll:"Activate for scroll",top:"Move to top",bottom:"Move to bottom",expand:"Expand this block",collapse:"Collapse this block",close:"Close this option"},Be=[{re:/(fa-)(.+)/,replacer:"$2"}],We="REMEDIATION_FORM_LABEL",$e="data-uw-rm-form",He=["INPUT","TEXTAREA","SELECT"],je="data-uw-hidden-control",Ve="hidden-control-element",Fe={text:"Text field",radio:"Radio button",checkbox:"Checkbox field",email:"Please enter email address",url:"Please enter url",tel:"Please enter a phone number",password:"Password field",search:"Search field",date:"Date field",time:"Time field",image:"Image field",file:"File field",number:"Number",range:"Select range",submit:"Submit button",color:"Select color",datetime_local:"Date and time field",month:"Month field",week:"Week field",button:"Button",reset:"Reset button"},Xe=new Map([["Name",/(name)/],["Age",/(age)/],["Search",/(search|srch)/],["Quantity",/(qua|qty|quantity)/],["Count",/(count|cnt)/]]),qe=new Map([["Search",/(search|srch)/],["Select name",/(name)/]]),Ge="REMEDIATION_BROKEN_LINK",Ke="data-uw-rm-brl",ze="data-uw-original-href";var Ze=(t=>(t.Processed="PR",t.BackEndContributed="BE",t.Fixed="FX",t.FixedByCorrection="CR",t))(Ze||{});const Ye=["localhost","userway.dev","linkedin.com","youtube.com"],Qe="REMEDIATION_META_VIEWPORT",Je="uw-rm-meta-viewport",tr='meta[name="viewport"][content*="maximum-scale"], meta[name="viewport"][content*="user-scalable=0"], meta[name="viewport"][content*="user-scalable=no"]',er="REMEDIATION_HEADING",rr="data-uw-rm-heading",nr="Empty heading",ir="REMEDIATION_PDF_DOCUMENTS",or="data-uw-pdf-doc",ar="data-uw-pdf-doc-original",lr="data-uw-pdf-br";var sr=(t=>(t.INVALID_LINK="0",t.VALID_LINK="1",t.IN_PROCESSING_OR_QUOTA_EXCEEDED="2",t))(sr||{});const ur=t=>t.filter((t=>{var e,r;const n=(t=>{switch(t){case Te:return"alt";case Oe:return"ariaEditor";case De:return"emptyControls";case We:return"forms";case Ge:return"brokenLinks";case Qe:return"metaViewport";case ae:return"externalLinks";case se:return"skipLinks";case de:return"vagueLinks";case er:return"headings";case ir:return"pdf";default:return null}})(t.ruleId);if(!n||!j.paidAi)return!0;const i=$[n];if(!i)return!0;const o=!1!==(null==(r=null==(e=i.config)?void 0:e.mobile)?void 0:r.enabled);return i.enabled&&(!X||o)})),cr=(t,e)=>{if(0===t.length)return Promise.resolve();const r=t[0];return Promise.all(r.map((t=>t(e)))).then((()=>cr(t.slice(1),e)))},dr=(()=>{let t,e=!1,r=[],n=null;const i=o=>{if(!o.length)return;if(e)return n&&clearTimeout(n),void(n=setTimeout((()=>{i(r),n=null}),800));e=!0;const a=()=>{e=!1};((t,e)=>{const r=t.map((t=>t.map((t=>t.run))));return cr(r,e)})(t,o).then(a).catch(a),r=[]},{run:o}=Ht(i),a=t=>{r.push(...t),o(r)},l=()=>{const t=(()=>{const t=C.join(","),e=R.map((t=>`[${t}]`)).join(","),r=`${t},${e}`;return[...document.body.querySelectorAll(`*:not(${r})`),document.documentElement].filter((t=>!t.closest(e))).map((t=>t))})();o([...t]),et((t=>{if(!t.data)return;const{data:{action:e,type:r}}=t;e===Xt&&oe[r]&&oe[r]()})),ot(a)};return{run:o,init:()=>__async(this,null,(function*(){if((()=>{var t;if((null==(t=window.location)?void 0:t.pathname.indexOf("wp-admin"))>-1)return!0;if(!(null==$?void 0:$.commonSettings))return!1;const{mobile:e,disabledPages:r}=$.commonSettings.config;return!(!X||!e||e.enabled)||!!(null==r?void 0:r.some((t=>{var e;return(null==(e=window.location)?void 0:e.href.indexOf(t))>-1})))})())return;let e;e=yield Promise.resolve().then((()=>wa)),t=e.RulesGroups.map((t=>ur(t))),H.tech_rem_on_tab||l();const r=et((t=>{var e;(null==(e=null==t?void 0:t.data)?void 0:e.type)===tt.KeyboardNavEnabled&&(l(),r())}))})),onDomUpdates:a}})();(()=>{__async(this,null,(function*(){var t;yield Z();const e=null!=(t=H.tech_rem_in_throttle_ms)?t:500;setTimeout((()=>{dr.init(),((t=rt,e=nt)=>{H.tech_rem_on_tab||at.observe(t,e);const r=et((n=>{var i;(null==(i=null==n?void 0:n.data)?void 0:i.type)===tt.KeyboardNavEnabled&&(at.observe(t,e),r())}))})()}),e)}))})(),gt.observe(pt,mt),(()=>{const t=st.find((t=>t.url.includes(window.location.origin)));t&&dt(t.name)})();const pr=({ruleId:t,isTargetElement:e,rule:r,postMessageApi:n,forceRun:i})=>(n&&et((t=>{const e=null==t?void 0:t.data;if(!e)return;const{type:r,action:i}=e;i!==J.Remediation&&i!==J.AriaEditor||n[r]&&n[r](e.data?e.data:e)})),{run:n=>__async(this,null,(function*(){try{if(!e)return void(yield r({context:{elements:n}}));const o=n.filter((r=>!r.hasAttribute(`uw-ignore-${t}`)&&e(r)));if(!o.length)return void(i&&(yield r({context:{elements:[]}})));yield r({context:{elements:o}})}catch(o){console.warn(o)}})),stop:()=>{},rerun:()=>{},ruleId:t}),mr=t=>{if(!t)return null;const e=t.split("|")[0];return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},gr=t=>!!["input","select","button","textarea","a"].includes(t.tagName.toLowerCase())||["button","checkbox","link","option"].includes((t.getAttribute("role")||"").toLowerCase()),fr=t=>{const e=t.getAttribute("tabindex");if(null!==e){const t=parseInt(e,10);if(!Number.isNaN(t))return t}},hr=t=>{if(gr(t))return!0;const e=fr(t);return void 0!==e&&!Number.isNaN(e)&&e>=0},br=t=>!!C.includes(t.toLowerCase()),Ar=(t,e)=>("img"===t?e.getAttribute("alt"):e.getAttribute("aria-label"))||null,Er=t=>t.getAttribute("role")||null,yr=t=>t.getAttribute("aria-level")||null,vr=(t,e)=>"img"===t?e.getAttribute("src"):null,_r=t=>{if(null==t?void 0:t.nextElementSibling){const e=t.nextElementSibling;return br(e.tagName)?_r(e):e}return null},wr=t=>{if(null==t?void 0:t.previousElementSibling){const e=t.previousElementSibling;return br(e.tagName)?wr(e):e}return null},Tr=t=>{var e;return null!=(e=t.uwAtoId)?e:null},Nr=t=>{if(!t.parentElement)return null;const{parentElement:e}=t,r=f(e);return ne().find((t=>t.xpath===r))?r:Nr(e)},xr=t=>{const e=Array.from(t.childNodes).find((t=>t.uwAtoId));if(e){const t=f(e);return ne().find((e=>e.xpath===t))?t:null}return null},Ir=(t,e)=>{if(!t)return;const r=t,{tabindex:n,el:i}=r,o=__objRest(r,["tabindex","el"]),a=t.el?[...t.el.children]:[],l=e.filter((t=>a.includes(t.el)));if(l.length){const t=l.map((t=>Ir(t,e)));return __spreadProps(__spreadValues({},o),{children:t})}return o},Lr=(e,r="")=>{const n=[e];e.parentElement&&n.push(e.parentElement);let i=0;const o=(null==e?void 0:e.children)?[...e.children].filter((t=>!br(t.tagName))).reverse():[];o.length&&(n.unshift(...o),i+=o.length);const a=_r(e);a&&!n.includes(a)&&(n.splice(i,0,a),i+=1);const l=wr(e);l&&!n.includes(l)&&n.splice(i+1,0,l);const s=n.map((t=>{const r=t.tagName.toLowerCase(),n=Jt(t,!0);if(!n)return null;const{type:i,label:o,id:a}=n,l="function"==typeof t.getAttribute?{label:Ar(r,t),isHidden:(s=t,"true"===s.getAttribute("aria-hidden")||"presentation"===s.getAttribute("role")),role:Er(t),ariaLevel:yr(t),src:vr(r,t),isControl:gr(t),focusable:hr(t),tabindex:fr(t)}:{};var s;return __spreadValues({tagName:r,text:[...t.childNodes].filter((t=>t.nodeType===Node.TEXT_NODE)).map((t=>{var e;return null==(e=t.textContent)?void 0:e.trim()})).join(" ").trim(),id:a,xpath:f(t),selected:t===e,el:t,semanticType:i,textToRead:o,uwAtoId:Tr(t),accessibleParentXpath:Nr(t),accessibleChildXpath:xr(t)},l)})).filter(Boolean).reverse();if(s){const e=Ir(s[0],s);e&&t({action:ke,type:"elements-selected",data:{tree:e,source:r}},[Se])}};let Sr,Cr;let Or;const Rr=(t,e)=>{const r="img"===(null==t?void 0:t.tagName.toLowerCase());e&&!r&&t.setAttribute("aria-label",e)},kr=(t,e)=>{const{tabindex:r,role:n,ariaLevel:i}=e;r&&t.setAttribute("tabindex",r),n&&"no role"!==n?t.setAttribute("role",n):n&&"no role"!==n||t.removeAttribute("role"),i&&t.setAttribute("aria-level",i)},Dr=pr({ruleId:Oe,rule:()=>{if($.ariaEditor.enabled&&(Or=(()=>{let t=z().AriaEditorValues;const e=`${g(window.location.pathname)}`;return t=t.filter((t=>!t.page||t.page===e)),t})(),Or))for(const t of Or){const e=mr(t.xpath);if(!e)continue;const r=e.nodeType===Node.ELEMENT_NODE,n=e.hasAttribute(Re)&&t.processed;if(!r||n)continue;const{hidden:i,correction:o}=t;i&&e.setAttribute("aria-hidden","true"),Rr(e,o),kr(e,t),e.setAttribute(Re,""),t.processed=!0}},postMessageApi:{"add-aria-editor":()=>{Cr=document.querySelector(`iframe[name=${Se}]`),Cr||(Sr=new Promise((t=>{const e={class:"userway_iframe_aria_editor",name:"uwAccessibilityEditor",title:"Aria Editor",src:Ce};Cr=document.createElement("iframe"),Object.entries(e).forEach((([t,e])=>{null==Cr||Cr.setAttribute(t,e)})),Cr.style="\n            z-index: 2147483647;\n            position: fixed;\n            left: 0;\n            top: 0;\n            width: 100%!important;\n            max-width: 100%!important;\n            height: 100%!important;\n            max-height: 100%!important;\n            visibility: hidden;\n            opacity: 0!important;\n            border: none;\n            display: block;\n          ",Cr.onload=()=>{t()},Cr&&document.body.appendChild(Cr)})))},"open-aria-editor":()=>{Sr.then((()=>{window.parent.postMessage({action:"close",isUserWay:!0}),window.parent.postMessage({action:"manageIconVisibility",isUserWay:!0,type:"hidden"}),Cr&&(Cr.style.visibility="visible",Cr.style.opacity="1"),t({action:ke,type:"aria-editor-open-request"},[Se])}))},"close-aria-editor":()=>{window.parent.postMessage({action:"open",isUserWay:!0}),window.parent.postMessage({action:"manageIconVisibility",isUserWay:!0,type:"visible"}),Cr&&(Cr.style.visibility="hidden",Cr.style.opacity="0"),t({action:ke,type:"aria-editor-closed"},[Se])},"editor-init":()=>{const e=j,r=!(!e||!e.CUSTOM_BRANDING&&!e.WHITE_LABEL);t({action:ke,type:"open-aria-editor",data:{siteId:j.siteId,showTutorial:!0,whiteLabel:r,hash:g(window.location.pathname)}},[Se])},"update-aria-hidden":t=>{const{xpath:e,hidden:r}=t;if(!e)return;const n=L(e);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(r?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"),n.setAttribute(Re,""))},"update-tabindex":t=>{const{xpath:e,focusable:r,isControl:n}=t;if(!e)return;const i=L(e);(null==i?void 0:i.nodeType)===Node.ELEMENT_NODE&&(n?i[r?"removeAttribute":"setAttribute"]("tabindex","-1"):i[r?"setAttribute":"removeAttribute"]("tabindex","0"),i.setAttribute(Re,""))},"update-aria-label":t=>{const{xpath:e,label:r}=t;if(!e||null==r)return;const n=L(e);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(n.setAttribute("aria-label",t.label),n.setAttribute(Re,""))},"update-aria-level":t=>{const{xpath:e,ariaLevel:r}=t;if(!e)return;const n=L(e);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(r?n.setAttribute("aria-level",r):n.removeAttribute("aria-level"),n.setAttribute(Re,""))},"update-role":t=>{const{xpath:e,role:r}=t;if(!e)return;const n=L(e);if((null==n?void 0:n.nodeType)===Node.ELEMENT_NODE){r&&"no role"!==r?n.setAttribute("role",r):n.removeAttribute("role"),n.setAttribute(Re,"")}},"select-elements-by-xpath":t=>{const{xpath:e,source:r}=t;if(!e)return;const n=L(e);n&&Lr(n,r)},"select-elements-at-point":t=>{const{position:{x:e,y:r}}=t;let n=document.elementsFromPoint(e,r);const i=n.findIndex((t=>t.getAttribute("name")===Se));-1!==i&&n.splice(i,1),n=n.filter((t=>!["HTML","BODY"].includes(t.tagName))).slice(0,2),n.length&&Lr(n[0])},"update-aria-editor-config":t=>{const{page:e="",xpath:r=""}=t,n=z().AriaEditorValues.findIndex((t=>t.page===e&&t.xpath===r)),i=z().AriaEditorValues[n],o=__spreadValues(__spreadValues({},i),(t=>__spreadProps(__spreadValues({},t),{hidden:t.isHidden}))(t));-1!==n?z().AriaEditorValues[n]=o:z().AriaEditorValues.push(o)}}}),Mr=({currentSrc:t,src:e})=>t||e,Pr=(t,e)=>{try{const r=t.getAttribute("height"),n=t.getAttribute("width"),{width:i,height:o}=window.getComputedStyle(t);return parseInt(n||i,10)>e&&parseInt(r||o,10)>e}catch(r){return!1}},Ur=(t,{decorative:e,approved:r,fixedByUserWay:n,loadingFromMS:i})=>{var o;return{src:Mr(t),alt:t.alt,originalAlt:null!=(o=t.getAttribute(we))?o:"",decorative:e,approved:r,fixedByUserWay:n,loadingFromMS:i}},Br=t=>{t.setAttribute("role","presentation"),t.removeAttribute("aria-hidden"),t.setAttribute("alt","")},Wr=t=>{if(!t)return"";try{const{hostname:e}=new URL(t);return e.replace(/^https?:\/\//,"").replace(/^www\./,"").replace(/\.[a-zA-Z0-9]*$/,"")}catch(e){return""}},$r=t=>{const e=Mr(t);return Ae.test(e)},Hr=t=>{const e=t.trim();if(new RegExp(`\\.(${xe.join("|")})$`,"i").test(e))return!0;if(e.length>500)return!0;if(!e)return!0;const r=e.split(/\s+/).length;if(/[0-9]{5,}/.test(e)&&1===r)return!0;return!!ye.test(e)},{enabled:jr,config:Vr}=(null==$?void 0:$.alt)||{enabled:!1,config:{}},Fr=null==Vr?void 0:Vr.decorative,Xr=(t,e="selectors")=>{if(!Fr||!jr)return!1;const r=Fr[e];return!!Array.isArray(r)&&r.some((e=>t.matches(e)))},qr=(t,e)=>{const r=e.alt.trim(),n=Mr(e),i=t.find((t=>E(t.src).toLowerCase()===E(n).toLowerCase()));if(!i||null===i.alt)return null;const{decorative:o,alt:a,approved:l,reverted:s}=i;if(s&&!o)return e.setAttribute(Ne,Ie.Reverted),Ur(e,{approved:!0,decorative:!r,fixedByUserWay:!1,loadingFromMS:!1});const u=!(!$||"AUTO"===$.strategy)&&!l;!o||u||Xr(e,"ignoreSelectors")||Br(e);const c=l||!r||Hr(r);a&&!u&&c&&!o&&e.setAttribute("alt",a),e.setAttribute(Ne,Ie.Backend);const d=Ur(e,{approved:l,decorative:o,fixedByUserWay:!0,loadingFromMS:!1});return u&&(d.alt=a),d},Gr=t=>{if("string"!=typeof t)return!1;for(const e of Object.values(ge)){const r=new RegExp(e,"i");if(t.match(r))return!0}return!1},Kr=t=>{const e=t.getAttribute("width"),r=t.getAttribute("height");if(e&&parseFloat(e)>0&&r&&parseFloat(r)>0)return!0;const{width:n,height:i}=window.getComputedStyle(t);try{if(0===parseFloat(n)&&0===parseFloat(i))return!1}catch(s){return!1}const o=/^\d*px?/i,a=o.test(n),l=o.test(i);return!(!a||!l)},zr=t=>{if(Xr(t))return ve.CUSTOM_CONFIG;const e=Mr(t),r=Hr(t.alt),n=Kr(t);var i;if(!(i=e)||!i.match(Ae)&&![/^https?:\/\/.{1,256}\.[a-z]{2,63}\/.+$/gim,/^https?:\/\/[^:\/\s]{1,256}:\d{1,5}\/.+$/gim].some((t=>t.test(i))))return ve.WRONG_SRC;if(Gr(e))return ve.EXCLUDED_SRC;if(!!n&&!Pr(t,10)&&r)return ve.MICRO_SIZE;if(!!n&&(t=>{try{const{width:e,height:r}=window.getComputedStyle(t),n=parseInt(e,10),i=parseInt(r,10);return!!(n<=20&&i>=10*n||i<=20&&n>=10*i)}catch(e){return!1}})(t))return ve.ASPECT_RATIO;if($r(t)&&r)return ve.BASE64;if("true"===t.getAttribute("aria-hidden")||"presentation"===t.getAttribute("role")||"none"===t.getAttribute("role"))return ve.HIDDEN_FROM_SCREEN_READER;if(Ee.test(e)&&r)return ve.SVG;return!(!n||Pr(t,50))&&r?ve.SMALL_SIZE:null},Zr=t=>{switch(t){case ve.ASPECT_RATIO:return Ie.AspectRatio;case ve.BASE64:return Ie.Base64;case ve.EXCLUDED_SRC:return Ie.Excluded;case ve.SVG:return Ie.Svg;case ve.MICRO_SIZE:return Ie.Micro;case ve.SMALL_SIZE:return Ie.Small;case ve.WRONG_SRC:return Ie.InvalidSrc;case ve.CUSTOM_CONFIG:return Ie.CustomConfig;case ve.HIDDEN_FROM_SCREEN_READER:default:return Ie.Hidden}},Yr=(t,e,r,n,i)=>{const o=UserWayWidgetApp.getLib("remediation_manager"),a=UserWayWidgetApp.getLib("remediation_helper_outcome");if(!a.of)return;const l=a.of(t,e?{items:e}:null,null!=i?i:null,r,n);o.HelperCallbackAggregator.onHelperRemediationCompleted(l)},Qr=new Map,Jr=(t,e)=>{const r=f(t);Qr.set(r,e)},tn=t=>{const e=f(t);return Qr.get(e)||null},en=t=>Yr(Te,t,t.filter((t=>t.fixedByUserWay)).length,t.filter((t=>!t.approved)).length),rn=t=>{t.hasAttribute(we)||t.setAttribute(we,t.alt)},nn=(t,e=[])=>{if(0===t.length)return;const{paidAi:r}=j,n=[];for(const i of t){const t=i,o=Hr(t.alt),a=Mr(t),l=tn(t),s=Xr(t,"ignoreSelectors");rn(t),Ee.test(a)&&r&&t.setAttribute("role","img");const u=qr(e,t);if(u){n.push(u);continue}if(s){t.setAttribute(Ne,Zr(ve.CUSTOM_CONFIG));continue}if(!r)continue;const c=null==l?void 0:l.shouldBeDecorativeReason;if(!o&&!c){t.setAttribute(Ne,Ie.CorrectAlt),n.push(Ur(t,{approved:!0,decorative:!1,fixedByUserWay:!1}));continue}if(void 0!==c){Br(t),t.setAttribute(Ne,Zr(c)),c&&_e.includes(c)&&n.push(Ur(t,{approved:!1,decorative:!0,fixedByUserWay:!0}));continue}const d=null==l?void 0:l.relevantText;if(d){t.setAttribute("alt",d),t.setAttribute(Ne,Ie.ClosestText),n.push(Ur(t,{approved:!1,decorative:!1,fixedByUserWay:!0}));continue}const{quota:p,usage:m}=V;m>=p?(t.setAttribute(Ne,Ie.AIQuotaExceed),n.push(Ur(t,{approved:!1,decorative:!1,fixedByUserWay:!0}))):(t.setAttribute(Ne,Ie.AI),n.push(Ur(t,{approved:!1,decorative:!1,fixedByUserWay:!0,loadingFromMS:!0})))}en(n)},on=t=>{const e=t.replace(/^https?:\/\//,"");return document.querySelectorAll(`img[src*="${e}" i],img[srcset*="${e}" i]`)},an=t=>__async(this,null,(function*(){const{account:e}=UserWayWidgetApp.ContextHolder.config,{siteId:r}=j,{resourceHash:n}=V,i=encodeURIComponent(t),o=yield fetch(`${Q}api/img-dscr/v2/${e}/${r}/${n}/alts.json?dto=${i}`,{method:"GET",headers:{"Content-Type":"application/json"}});return(yield o.json()).payload})),ln=t=>{const e=`(.*\\.(${xe.join("|")}))\\?.*$`,r=new RegExp(e),n=t.match(r);if(!n){const e=new URL(t),r=[];let n=!1;return e.searchParams.forEach(((t,e)=>{xe.some((e=>t.endsWith(e)))?n=!0:r.push(e)})),n&&r.forEach((t=>e.searchParams.delete(t))),n?e.toString():t}return n&&n[1]?n[1]:t};var sn=(t=>(t.RO="RO",t))(sn||{});const un=(t,e)=>t.src.localeCompare(e.src),cn=(t,e=1)=>{if(e>=15)return console.warn("Max split level exceed"),[];const r=((t,e)=>{const r=Math.ceil(t.length/e),n=[];for(let i=0;i<t.length;i+=r)n.push(t.slice(i,i+r));return n})(t,e),n=[];for(const i of r){const r={sorted:i,tier:V.tier,pageUrl:window.location.href},o=JSON.stringify(r);if(encodeURIComponent(o).length/1024>8)return cn(t,e+1);n.push(o)}return n},dn=t=>t?t.replace(/\n/g,"").replace(/ {2,}/g," ").trim():"",pn=(t,e)=>{if(!t)return null;const r="next"===e.type?t.nextSibling:t.previousSibling;if((null==r?void 0:r.nodeType)===Node.TEXT_NODE){if(!dn(r.nodeValue))return pn(r,{type:e.type})}return r},mn=t=>{const e=t.nodeType===Node.ELEMENT_NODE,r=t instanceof Element&&"hide"===t.getAttribute(Le);if(t.nodeType===Node.TEXT_NODE)return!0;if(e&&!r){const e=he.some((e=>e===t.nodeName.toLowerCase())),r=be.some((e=>{var r;return e===(null==(r=t.getAttribute("role"))?void 0:r.toLowerCase())}));return e||r}return!1},gn=Array.from(new Set([...he,"a","span","strong","em","b","i","q","mark"])),fn=t=>{if((null==t?void 0:t.nodeType)===Node.TEXT_NODE){const e=dn(t.nodeValue);if(e&&!Hr(e))return e}if((null==t?void 0:t.nodeType)===Node.ELEMENT_NODE&&gn.includes(t.tagName.toLowerCase()))for(const e of t.childNodes){const t=fn(e);if(t)return t}return null},hn=t=>{const e=t.nodeType===Node.ELEMENT_NODE,r=t.nodeType===Node.TEXT_NODE;if(!r&&!e)return!1;if(e&&"img"===t.nodeName.toLowerCase())return!0;if(r)return!!dn(t.textContent);const n=he.some((e=>e===t.nodeName.toLowerCase())),i=be.some((e=>{var r;return e===(null==(r=t.getAttribute("role"))?void 0:r.toLowerCase())}));return n||i};let bn=0;const An=t=>{const e=t.parentElement;if(!e)return null;if(e.getElementsByTagName("img").length>1)return bn=0,null;if(1===[].slice.call(e.childNodes).filter(hn).length)return An(e);const r=(t=>{let e=pn(t,{type:"next"}),r=pn(t,{type:"prev"}),n=null,i=null;for(;e||r;){e&&mn(e)&&(n=fn(e)),r&&mn(r)&&(i=fn(r));const t=n||i;if(t)return t;e=pn(e,{type:"next"}),r=pn(r,{type:"prev"})}return null})(t);return r?(bn=0,r):(bn+=1,"body"===e.tagName.toLowerCase()?(bn=0,null):bn<2?An(e):(bn=0,null))},En=t=>{const e=t.closest("figure");if(e){const t=Array.from(e.children).find((t=>"figcaption"===t.tagName.toLowerCase()));if(t){const e=dn(t.textContent);if(e&&!Hr(e))return e}}const r=[].slice.call(t.classList).join(" "),n=t.id||"",i=(o=r+n).trim()&&fe.find((t=>o.includes(t)))||null;var o;if(i)return i;const a=An(t);return a||null},yn=(t,e)=>{if(!Kr(t))return!1;const r=Mr(t);return Wr(r)!==e&&!Pr(t,20)},vn=(t,e,r)=>{t.addEventListener("load",(()=>{e()})),t.addEventListener("error",(()=>{Br(t),t.setAttribute(Ne,Ie.NotLoaded),r()}))};function _n(t){return["data-lazy-src","data-src","data-lazy"].some((e=>t.hasAttribute(e)))}const wn=t=>(e,r)=>{if(Gr(t.src))return Br(t),t.setAttribute(Ne,Ie.Excluded),void r(t);if((t=>t.complete&&0!==t.naturalHeight)(t))return void e(t);if("lazy"===t.loading||_n(t))return void vn(t,(()=>e(t)),(()=>r(t)));const n=new Image;vn(n,(()=>e(t)),(()=>r(t))),n.src=t.src},Tn=[],Nn=(t,e)=>{if(!V)return;const{state:r}=V;if("ALTS_OFF"===r)return;const n=(t=>{var e,r;const n=[];for(const i of t){const t=Mr(i),e=Wr(t);if(e){let t=n.find((t=>t.name===e));t||(t={name:e,weight:0},n.push(t)),t.weight+=1}}return null!=(r=null==(e=n.sort(((t,e)=>t.weight<e.weight?1:-1))[0])?void 0:e.name)?r:""})(t),i=[],o=[];for(const l of t){const t=l,e=yn(t,n),r=zr(t),a=Hr(t.alt),s=r&&!_e.includes(r)||e||$r(t)||Xr(t,"ignoreSelectors"),u={};if(r&&(u.shouldBeDecorativeReason=r),s)o.push(t);else{if(a){const e=En(t);e&&(u.relevantText=e)}i.push(t)}Object.keys(u).length&&Jr(t,u)}try{const t=(t=>{const e=t,r=e.filter(((t,r)=>r===e.findIndex((e=>Mr(t)===Mr(e))))).map((t=>{const e=t,r=e.alt.trim(),n=r&&!Hr(r),i=Mr(e),o=tn(e);return{src:ln(i),alt:e.alt.trim(),dir:n||zr(e)||(null==o?void 0:o.relevantText)?sn.RO:void 0}}));return r.sort(un),r})(i),r=cn(t);if(r.length)for(const n of r)an(n).then((t=>{if(!t)return void e();const{missingAlts:r}=t,n=i.filter((t=>r.find((e=>E(e.src)===E(Mr(t))))));nn(n,r),e()})).catch((t=>{console.error("Get missing alts error: ",t),e()}));nn(o),Tn.length=0,r.length||e()}catch(a){console.error(a)}},xn=Bt(((t,e)=>Nn(t,e)),1e3,{maxWait:2e3,leading:!1,trailing:!0}),In=pr({ruleId:Te,rule:({context:{elements:t}})=>new Promise((e=>{const r=t.reduce(((t,e)=>e.getAttribute("src")||e.getAttribute("srcset")||_n(e)?[...t,new Promise(wn(e))]:(Br(e),e.setAttribute(Ne,Ie.InvalidSrc),t)),[]);let n=0;const i=r.map((t=>t.then((t=>{Tn.push(t),xn(Tn,e)})).catch((t=>{Br(t),t.setAttribute(Ne,Ie.InvalidSrc),n++}))));Promise.all(i).then((()=>{r.length===n&&e()}))})),isTargetElement:t=>{const e="img"===t.tagName.toLowerCase(),r=t.hasAttribute(Ne);return!(!e||r)},postMessageApi:{"image-alt-update":({src:t,decorative:e,alt:r,role:n})=>{const i=on(t);if(i.length){for(const t of i)t.setAttribute("alt",null!=r?r:""),e?Br(t):("presentation"!==t.getAttribute("role")&&"none"!==t.getAttribute("role")||t.removeAttribute("role"),t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden")),["link","button","heading"].includes(n)&&t.setAttribute("aria-label",r);en([Ur(i[0],{approved:!0,decorative:e,fixedByUserWay:!1})])}},"image-alt-revert":({src:t})=>{const e=on(t);for(const r of e){const t=r.getAttribute(we);null!==t&&r.setAttribute("alt",t)}}}}),Ln=t=>{const{tagName:e}=t;return"SELECT"===e||"TEXTAREA"===e?e.toLowerCase():"text"},Sn=t=>{const e=t.getAttribute("id");if(!e)return null;try{return document.querySelector(`label[for='${e}']`)}catch(r){return null}},Cn=t=>{const e="string"==typeof t?t:t.textContent;return e&&e.replace(/\r\n|\r|\n|\t/g," ").replace(/( )+/g," ").trim()},On=(t,e)=>{for(const[r,n]of e)if(n.test(t))return r;return""},Rn=t=>{let e="";const r=t.getAttribute("placeholder"),n=t.getAttribute("title");if(r&&r.trim())return r;if(n&&n.trim())return n;const{classList:i,name:o,tagName:a,type:l}=t,s=`${[...i].join(" ")||""} ${o||""}`.trim();return"text"===l&&(e=On(s,Xe)),"SELECT"===a&&(e=On(s,qe)),e||(t=>{const{tagName:e,type:r}=t;return"SELECT"===e?"select-multiple"===r?"Multiple select":"Single select":"TEXTAREA"===e?"Text area":"INPUT"===e&&r&&Fe[r.replace("-","_")]?Fe[r.replace("-","_")]:""})(t)},kn=t=>{if(t.parentElement){const e=[...t.parentElement.querySelectorAll("label")];if(1===e.length&&(t=>{const e="LABEL"===t.tagName,r=t.getAttribute("for");return e&&(!(null==r?void 0:r.trim())||!document.getElementById(r))})(e[0]))return e[0].textContent}return null},Dn=t=>{const e=t.previousElementSibling;return e&&(t=>{var e;return["DIV","SPAN","P"].includes(t.tagName)&&Boolean(null==(e=t.textContent)?void 0:e.trim())})(e)?($.strategy===Wt&&((t,e)=>{const r=e.getAttribute("id")||p();e.setAttribute("id",r),t.setAttribute("aria-labelledby",r)})(t,e),e.textContent):null},Mn=(t,e,r,n=!0)=>{if(!n)return;const i=t.closest("label"),o=Sn(t);r?(t.setAttribute("required",""),t.setAttribute("aria-required","true")):(t.removeAttribute("required"),t.removeAttribute("aria-required"));const a=i||o;if(a){const t=a.querySelector("span[data-uw-reader-element]");if(t)t.textContent=e;else{const t=m(e);a.appendChild(t)}}else t.hasAttribute("aria-labelledby")||t.setAttribute("aria-label",e)},Pn=t=>{const e=t.getAttribute("aria-labelledby");if(e){const t=(t=>{var e;const r=t.split(" "),n=[];for(const i of r){const t=null==(e=document.getElementById(i))?void 0:e.textContent;t&&n.push(t)}return n.join(" ")})(e);if(t){const e=Cn(t);if(e)return e}}const r=t.getAttribute("aria-label");if(r){const t=Cn(r);if(t)return t}const n=t.closest("label");if(n){const t=(t=>{let e=t.textContent||"";const r=t.querySelector("select");if(r){const t=r.textContent||"";e=e.replace(t,"")}return e.trim()})(n);if(t)return Cn(t)}const i=Sn(t);if(i){const t=Cn(i);if(t)return t}return null},Un=(t,e,r,n)=>{const{Forms:i}=z(),o=Pn(t),a=i.find((({xpath:t,approved:e})=>e&&+t===g(r)));return o&&(t=>{const e=Sn(t);if(!e)return!1;const{display:r,visibility:n}=getComputedStyle(e);return"none"===r||"hidden"===n})(t)&&t.setAttribute("aria-label",o),a?(Mn(t,a.correction,a.required,!0),{type:a.type,xpath:r,required:a.required,correction:a.correction,approved:a.approved,xpathHash:g(r),label:o}):o?(t.setAttribute($e,"nfx"),{type:e,xpath:r,correction:o,approved:!0,xpathHash:g(r),label:o,required:n}):null},Bn=t=>{((t,r={})=>{var n,i;const o={skipParentCheck:null!=(n=r.skipParentCheck)&&n,shouldBeInViewport:null==(i=r.shouldBeInViewport)||i};let a=t,l=e(a,o);if(!o.skipParentCheck)for(;l&&a.parentNode&&a.parentNode!==document;)e(a.parentNode,{shouldBeInViewport:!1})?a=a.parentNode:l=!1;return l})(t,{shouldBeInViewport:!1})||(t.setAttribute("aria-label",Ve),t.setAttribute(je,Ve),((t,e)=>{new IntersectionObserver(((r,n)=>{for(const i of r)i.intersectionRatio>0&&(e(t),n.disconnect())})).observe(t)})(t,(()=>{t.hasAttribute(je)&&t.hasAttribute("aria-label")&&t.getAttribute(je)===t.getAttribute("aria-label")&&(t.removeAttribute(je),t.removeAttribute("aria-label"))})));const r=kn(t);if(r)return r;const n=Dn(t);if(n)return n;const i=Rn(t);return i||null},Wn=pr({ruleId:We,rule:({context:{elements:t}})=>{const e=[];for(const r of t){r.setAttribute($e,"fx");const t=r.hasAttribute("required"),n=$.strategy===Wt,i=f(r),o=Ln(r),a=Un(r,o,i,t);if(a){e.push(a);continue}const l=Bn(r);l?(Mn(r,l,t,n),e.push({type:o,xpath:i,correction:l,approved:!1,xpathHash:g(i),label:null,required:t})):e.push({type:o,xpath:i,correction:null,approved:!1,xpathHash:g(i),label:null,required:t})}Yr(We,e,e.filter((t=>t.approved)).length,e.filter((t=>!t.approved)).length)},isTargetElement:t=>{const e=He.includes(t.tagName);if(t.hasAttribute($e)||!e)return!1;const r=t.getAttribute("type");return!("SELECT"!==t.tagName&&"TEXTAREA"!==t.tagName&&("INPUT"!==t.tagName||"hidden"===r))},postMessageApi:{"form-label-update":({correction:t,required:e,xpath:r})=>{const n=L(r.toString());n&&(t&&(n.setAttribute("aria-label",t),n.removeAttribute("aria-labelledby")),e?(n.setAttribute("required",""),n.setAttribute("aria-required","true")):(n.removeAttribute("required"),n.removeAttribute("aria-required")))}}}),$n=t=>{const e=t.tagName.toLowerCase(),r=null==t?void 0:t.type,n=t.getAttribute("role");return["a","button"].includes(e)?"a"===e?"<link>":"<button>":"input"===e&&["button","submit","reset"].includes(r)?"<input>":"link"===n?"<link> (role)":"<button> (role)"},Hn=[],jn=(t,e,r=!1)=>{const n=!(null==$?void 0:$.strategy)||"AUTO"===$.strategy;var i;return(r||n)&&t.setAttribute("aria-label",e),t.setAttribute(Me,""),i={correction:e,approved:r,xpath:f(t),name:$n(t)},Hn.push(i),!0},Vn=(t,e)=>{var r;const n=e||t,i=Pe.find((t=>"a"===n.tagName.toLowerCase()&&n.href.includes(t)));if(i)return jn(t,i);const o=(t=>{const e=Array.from(t.children);e.push(t);let r=[];for(const n of e)r=r.concat(Array.from(n.classList).map((t=>t.toLowerCase())));return r})(n);let a=Pe.find((t=>o.find((e=>e.includes(t)))));if(a||Be.find((t=>o.find((e=>{const r=t.re.test(e)&&e.replace(t.re,t.replacer);return!!r&&(a=r,!0)})))),a)return jn(t,a);const s=null==(r=window.getComputedStyle(n).backgroundImage)?void 0:r.toLowerCase(),u=Pe.find((t=>s.includes(t)));if(u)return jn(t,u);const c=Object.keys(Ue).find((t=>o.find((e=>e.includes(t))))),d=c?Ue[c]:null;if(d)return jn(t,d);const p=l(n,"",{includeTextFromVisuallyHiddenElements:!0});return!!p&&jn(t,p)},Fn=t=>{if(!t.hasAttribute("href"))return null;const e=t.getAttribute("href").toLowerCase().match(/^https?:\/\/(?:www\.)?([^/?#]+)/);return e?e[1]:null},Xn={},qn=t=>{__spreadValues({},Xn)[g(t.xpath)]=t;const e=I(t.xpath);e&&jn(e,t.correction)},Gn=pr({ruleId:De,rule:({context:{elements:t}})=>{const{EmptyControls:e}=z(),r=(t=>{if(!(null==t?void 0:t.length))return null;for(const e of t){const t=g(e.xpath),r=Xn[t],n=e.page;(!r||r&&n)&&(Xn[t]=e)}return __spreadValues({},Xn)})(e);for(const i of t){const t=i.getAttribute("href");if(("a"===i.tagName.toLowerCase()||"link"===i.getAttribute("role"))&&""===t&&i.setAttribute("href","#"),r){const t=r[g(f(i))];if(t){jn(i,t.correction,!0);continue}}if(!Vn(i)){const t=i.getAttribute("role"),e=i.tagName.toLowerCase(),r=i.getAttribute("type"),n=i.getAttribute("alt"),o=i.getAttribute(we);if(Array.from(i.children).filter((t=>!P(t))).find((t=>Vn(i,t))))continue;const a=Fn(i);if(a){jn(i,a);continue}if((n||o)&&"img"===e&&t&&["link","button"].includes(t)){jn(i,n||o);continue}if("button"===e||"button"===t||"input"===e&&"button"===r){jn(i,"button");continue}if("input"===e&&"submit"===r){jn(i,"submit");continue}if("input"===e&&"reset"===r){jn(i,"reset");continue}jn(i,"Open this option")}}const n=[].slice.call(Hn);Yr("REMEDIATION_EMPTY_CONTROLS",n,n.length,n.filter((t=>!t.approved)).length),Hn.length=0},isTargetElement:t=>{if(t.hasAttribute(Me))return!1;const e=t.tagName.toLowerCase(),r=t.getAttribute("role"),n=null==t?void 0:t.type,i="a"===e||"button"===e,o="link"===r||"button"===r,a="input"===e&&["button","submit","reset"].includes(n);return!(!(i||o||a)||u(t,{excludeAttribute:["aria-describedby"]}))},postMessageApi:{"empty-controls-update":({data:t})=>{var e;(null!=(e=null==t?void 0:t.xpath)?e:null==t?void 0:t.correction)&&qn(t)}}}),Kn=()=>{const{hostname:t,pathname:e}=window.location,r=t.replace("www.","").split("."),n=(i=r,i.length>1?i.slice(0,-1):i).join("-");var i;const o=e.split("/").filter((t=>t)).join(" ").replace(/^\d+|\s\d+/g,"").trim();return(o+(o?" - ":" ")+n).trim()},zn="data-uw-rm-title",Zn="un",Yn="gn",Qn=(t,e)=>{t.setAttribute(zn,e?Yn:Zn)},Jn=pr({ruleId:"REMEDIATION_HEADER_TITLE",rule:({context:{elements:t}})=>{var e,r;if(t.length&&(null==(e=t[0].innerHTML)?void 0:e.trim())){const t=document.querySelector(`title[${zn}]`);return void(null==t||t.remove())}const n=document.getElementsByTagName("title")[0];try{if(n){if(!(null==(r=n.innerHTML)?void 0:r.trim())&&!n.hasAttribute(zn)){const t=Kn();n.innerHTML=t,Qn(n,t)}}else{const t=document.createElement("title"),e=Kn();t.innerHTML=e,Qn(t,e),document.head.appendChild(t)}}catch(i){i instanceof Error&&console.error(i)}},isTargetElement:t=>{const e="title"===t.tagName.toLowerCase(),r=t.hasAttribute(zn);return e&&!r},forceRun:!0}),ti="data-uw-rm-error-associate",ei=[`div[class*="error" i]:not([${ti}])`,`div[class*="message" i]:not([${ti}])`,`span[class*="error" i]:not([${ti}])`,`span[class*="message" i]:not([${ti}])`,`p[class*="error" i]:not([${ti}])`,`p[class*="message" i]:not([${ti}])`],ri=[`input:not([${ti}])`,`select:not([${ti}])`,`textarea:not([${ti}])`],ni=["error","message"],ii=t=>{const e=t.nextElementSibling;if(e)for(const i of ni)if([...e.classList].join(" ").includes(i))return e;const r=t.parentElement;if(!r)return null;if(1!==r.querySelectorAll(ri.join(",")).length)return null;const n=r.querySelectorAll(ei.join(","));return 1!==n.length?null:n[0]},oi=(t,e)=>{if(t.getAttribute("aria-describedby"))return void t.setAttribute(ti,"nfx");const r=e.getAttribute("id");if(r)return t.setAttribute("aria-describedby",r),t.setAttribute(ti,"fx"),void e.setAttribute(ti,"fx");const n=p();e.setAttribute("id",n),e.setAttribute(ti,"fx"),t.setAttribute("aria-describedby",n),t.setAttribute(ti,"fx")},ai=t=>{for(const e of t){const t=ii(e);t&&oi(e,t)}},li=(t,e)=>{const r=t.getBoundingClientRect();let n=1/0,i=null;for(const o of e){const t=o.getBoundingClientRect(),e=t.left-r.left,a=t.bottom-r.top,l=Math.abs(a),s=Math.sqrt(e*e+a*a);l<=100&&s<n&&(n=s,i=o)}return i},si=(t,e)=>{for(const r of e){const e=li(r,t);e&&oi(e,r)}},ui=t=>{const e=new MutationObserver((e=>{const r=t.querySelectorAll(ri.join(",")),n=t.querySelectorAll(ei.join(","));for(const t of e)"childList"===t.type&&(ai([...r]),si([...r],[...n]))}));e.observe(t,{childList:!0,subtree:!0}),setTimeout((()=>{e.disconnect()}),15e3)},ci=pr({ruleId:"REMEDIATION_CONTROL_ERROR_ASSOCIATE",rule:({context:{elements:t}})=>{if($.strategy===Wt)for(const e of t)e.addEventListener("submit",(()=>{const t=[...e.querySelectorAll(ri.join(","))],r=e.querySelectorAll(ei.join(","));ai(t),si(t,[...r]),ui(e)}))},isTargetElement:t=>"FORM"===t.tagName&&!t.hasAttribute("data-uw-rm-error-associate-ignore")}),di=t=>{const e=t.match(/user-scalable=(0|no)/);return e?t.replace(e[0],""):t},pi=t=>t.replace(/\s/g,"").replace(/,+|;+/g,", ").replace(/\s+$/g,"").replace(/^(,\s*)/,"").replace(/(,\s*)$/,""),mi=t=>{const e=t.match(/maximum-scale(?:=([0-9]+(?:\.[0-9]+)?))?/),r=t.match(/\bmaximum-scale\b(?!=)/);if(e){const n=parseFloat(e[1]);if(!Number.isNaN(n)&&n<5||r)return t.replace(e[0],"maximum-scale=5.0")}return t},gi=pr({ruleId:Qe,rule:()=>{const t=document.head.querySelectorAll(tr);for(const e of t){let t=e.getAttribute("content")||"";t=[mi,di,pi].reduce(((t,e)=>e(t)),t),e.setAttribute("content",t),e.setAttribute(Je,"")}},isTargetElement:t=>!t.hasAttribute(Je)&&t.matches(tr),forceRun:!0}),fi=t=>{const e=null==t?void 0:t.trim();return(null==e?void 0:e.length)?e.split("?")[0].split("#")[0]:""};var hi=(t=>(t.PRESENT="PRESENT",t.MISSING="MISSING",t))(hi||{});const bi=()=>__async(this,null,(function*(){const{siteId:t}=j;try{const e=yield fetch(`${Y}br-links/v0/contribute/${t}`,{method:"GET"});return(yield e.json()).payload}catch(e){return hi.PRESENT}})),Ai=(t,e)=>__async(this,null,(function*(){const{siteId:r,userId:n}=j,i={userId:n,siteId:r,links:t,page:window.location.pathname,fullPage:window.location.href};yield fetch(`${Y}br-links/v0/contribute/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i),signal:e}).catch((()=>{}))})),Ei=()=>__async(this,null,(function*(){const{siteId:t}=j;try{const e=yield fetch(`${Y}br-links/v0/links/${t}`,{method:"GET"});return yield e.json()}catch(e){return{thisPageItems:[],totalNumber:0,lastPageIndex:0,pageItemType:"BrokenLinkHref"}}})),yi=t=>{var e;const r=null==(e=UserWayWidgetApp.getLib("localization_manager"))?void 0:e.translate,n=t.getAttribute("aria-label"),i=u(t),o=null!=n?n:i,a=`${r(q,"widget.broken_links.target_site_not_available")}`,l=o?`${o} - ${a}`:a;return t.setAttribute("aria-label",l),t.setAttribute(Ke,Ze.Fixed),t.setAttribute(le,""),l},vi=t=>{var e;return{originalHref:t.getAttribute(ze)||"",href:fi(t.href),text:null!=(e=t.getAttribute("aria-label"))?e:"",pageHash:g(window.location.pathname),page:window.location.pathname,siteId:j.siteId}};let _i=[];const wi=[],Ti=new AbortController,Ni=t=>{t.length&&bi().then((e=>{try{if(e===hi.PRESENT)return void Ti.abort();if(e===hi.MISSING){const e=t.map((t=>{const e=t.getAttribute(Ke);e!==Ze.Fixed&&e!==Ze.FixedByCorrection&&t.setAttribute(Ke,Ze.BackEndContributed);const r=fi(t.href);var n;return n=r,wi.push(n),r})),r=[...new Set(e)];Ai(r,Ti.signal),_i=[]}}catch(r){}})).catch((t=>{}))},xi=Bt((t=>Ni(t)),3500,{maxWait:3500,leading:!1,trailing:!0}),Ii=new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,63}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/),Li=pr({ruleId:Ge,rule:({context:{elements:t}})=>{const e=[];for(const o of t)o.setAttribute(Ke,Ze.Processed),o.setAttribute(ze,o.href);const r=t.filter((t=>{const r=t,n=(t=>{const{BrokenLink:e}=z(),r=e.find((e=>e.href===t.href));if(!r)return!1;const{href_correction:n,text_correction:i}=r;if(n&&M(n)){const e=D(n);t.setAttribute("href",e)}return i&&t.setAttribute("aria-label",i),t.setAttribute(Ke,Ze.FixedByCorrection),!0})(r);n&&e.push(vi(r));const i=Ii.test(null==r?void 0:r.href);return n||i||(yi(t),e.push(vi(r))),i&&!n})),n=r.filter((t=>{const e=t,r=fi(null==e?void 0:e.href);return n=r,!wi.includes(n)||(e.setAttribute(Ke,Ze.BackEndContributed),!1);var n}));var i;i=n,_i=[..._i,...i],xi([..._i]),Ei().then((({thisPageItems:t})=>{for(const n of t){const t=r.find((t=>fi(t.href)===n.href));if(t){yi(t);const r=vi(t);e.push(r)}}})).catch((t=>{console.log(t)})).finally((()=>{Yr(Ge,e,e.length,e.length)}))},isTargetElement:t=>{if("a"!==t.tagName.toLowerCase())return!1;const{href:e,hostname:r}=t,n=t.hasAttribute(Ke),i=!(null==e?void 0:e.trim());if(n||i)return!1;const o=new URL(e);if(!["http:","https:"].includes(o.protocol))return!1;return![/\.pdf/,/wp-admin/,/javascript:void/,/^(tel:|mailto:|sms:|ftp:|file:|geo:|news:|irc:|skype:|spotify:|whatsapp:|market:|steam:|git:|svn:|ed2k:|magnet:|gopher:|dict:)/].some((t=>t.test(e)))&&!Ye.some((t=>null==r?void 0:r.includes(t)))},postMessageApi:{"update-broken-link":({correctionHref:t,originalHref:e,label:r})=>{const n=document.querySelectorAll(`a[${ze}*="${e}" i]`);for(const i of n)if(r&&i.setAttribute("aria-label",r),t&&M(t)){const e=D(t);i.setAttribute("href",e)}}}}),Si=(t,e)=>`${t}$${e}`.toLowerCase().replace(/ /g,""),Ci=t=>{const e=t.getAttribute("aria-label"),r=t.getAttribute("aria-labelledby");return e||(r?s(r):l(t))},Oi=pr({ruleId:ae,rule:({context:{elements:t}})=>{var e;const r=null==(e=UserWayWidgetApp.getLib("localization_manager"))?void 0:e.translate,{ExternalLink:n}=z(),i=(t=>{const e={};for(const r of t)e[Si(r.href,r.term)]=r;return e})(n),o=[];for(const a of t){const t=Ci(a),e=Si(a.href,t);let n;if(!t||t.includes("new window")||t.includes("new tab"))a.setAttribute(le,"na");else{if(i[e])n=i[e].correction,o.push(Object.assign(i[e],{id:e}));else{const i=` - ${r(q,"widget.new_tab")}`;n=(a.hasAttribute("aria-label")?a.getAttribute("aria-label"):t)+i,o.push({href:a.href,term:t,correction:n,id:e})}a.setAttribute("aria-label",n),a.setAttribute(le,""),a.setAttribute("uw-rm-external-link-id",e)}}Yr(ae,o,o.length,0)},isTargetElement:t=>{if("a"!==t.tagName.toLowerCase())return!1;const e=t;if(e.hasAttribute(le))return!1;const{href:r,target:n}=e,i=/^(http|https):/.test(r);return!!((null==r?void 0:r.trim())&&i&&n&&"_blank"===n)}}),Ri="REMEDIATION_AUTO_PLAY_VIDEO",ki="data-uw-rm-av",Di=["IFRAME","VIDEO"],Mi=["youtube.com","vimeo.com"],Pi=["autoplay=1","autoplay=true"],Ui=["mute=1","mute=true"],Bi=pr({ruleId:Ri,rule:({context:{elements:t}})=>{for(const e of t)"IFRAME"===e.nodeName?e.setAttribute(ki,"if"):"VIDEO"===e.nodeName&&e.setAttribute(ki,"vi");Yr(Ri,[],t.length,0)},isTargetElement:t=>{if(!Di.includes(t.nodeName)||t.hasAttribute(ki))return!1;if("IFRAME"===t.nodeName){const e=t.getAttribute("src");if(!(e&&Mi.some((t=>e.includes(t)))&&Pi.some((t=>e.includes(t)))&&Ui.some((t=>e.includes(t)))))return!1}const e=t.hasAttribute("autoplay"),r=t.hasAttribute("muted");return!!("VIDEO"!==t.nodeName||e&&r)}}),Wi=t=>{if(!t)return"";return t.trim().replace(/(\n|\r\n)/g,"").replace(/\s+/g," ").replace(/\u200B/g,"")},$i=t=>{const e=t.textContent?t.textContent:null,r=/tel:(.+)/,n=/mailto:(.+)/,i=t.getAttribute("href");return i&&r.test(i)?i.replace(r,"call $1"):i&&n.test(i)?i.replace(n,"send an email to $1"):e&&e.trim()?Wi(e).replace(/[^A-Za-z0-9\s]/g,"").replace(/\s{2,}/g," ").replace(/\n/g," ").toLowerCase():null},Hi=t=>{function e(t){if(!t)return null;if(-1!==["h1","h2","h3","h4","h5","h6"].indexOf(t.nodeName.toLowerCase()))return t.textContent;const e="heading"===t.getAttribute("role"),r=t.getAttribute("aria-level")||"";if(e&&["1","2","3","4","5","6"].includes(r))return t.textContent;const n=Array.from(t.querySelectorAll('h1,h2,h3,h4,h5,h6,[role="heading"][aria-level="1"],[role="heading"][aria-level="2"],[role="heading"][aria-level="3"],[role="heading"][aria-level="4"],[role="heading"][aria-level="5"],[role="heading"][aria-level="6"]'));return n.length?n[0].textContent:null}let r=t.parentElement,n=t;for(;r&&Wi(k(r))===Wi(t.textContent);)n=r,r=r.parentElement;let i=n.previousElementSibling,o=e(i);for(;i&&i.parentElement===r&&!o;)i=i.previousElementSibling,o=i?e(i):null;if(o)return[t.textContent,o].join(" ");const a=function(t,e){if(!t)return[];const r=[],n=(i=t,null==o&&(o=document),o.createTreeWalker(i,NodeFilter.SHOW_TEXT,null));var i,o;let a=n.nextNode();for(;a;)r.push({node:a,target:a.parentElement===e}),a=n.nextNode();return r}(r,t).map((({target:t,node:e})=>({text:Wi(e.textContent),target:t}))).filter((({text:t})=>!!t));let l="",s="",u="";const c=a.find((({target:t})=>t)),d=c&&a.indexOf(c);s=c?c.text:"";let p=[];if(void 0!==d&&(d&&a[d-1]&&(p=a[d-1].text.split(/[.!?]+/),l=p.pop(),l=l?l.trim():""),d+1<a.length)){u=a[d+1].text.split(/[.!?]+/).shift(),u=u?u.trim():""}l||u||(l=p.length?p.pop():"");return[l,s,u].filter((t=>!!t)).join(" ").replace(/\n/g," ").replace(/\s{2,}/g," ")},ji=(t,e)=>`${t}$${e}`.toLowerCase(),Vi=[],Fi=t=>{Vi.push(t)},Xi={},qi={},Gi=({correction:t,approved:e,id:r})=>{const n=qi[r];const i=!(null==$?void 0:$.strategy)||"AUTO"===$.strategy;n&&t&&(e||i)&&(n.setAttribute("aria-label",t),n.setAttribute(pe,""),n.setAttribute("uw-rm-vague-link-id",r))},Ki=(t,e)=>{if(!t||!e)return!1;const r=t.match(/(tel:\+)(.+)/),n=t.match(/(mailto:)(.+)/);return!!(r&&r[2]&&e.includes(r[2]))||!!(n&&n[2]&&e.includes(n[2]))},zi=t=>{const e=(t=>{if(!(null==t?void 0:t.length))return Xi;for(const e of t){const t=ji(e.href,e.term);Xi[t]||(Xi[t]=e)}return __spreadValues({},Xi)})(z().VagueLinks);for(const i of t){const t=$i(i);if(!t)continue;let o;const a=i.getAttribute("href");if(a&&/^tel:|^mailto:/.test(a)&&!Ki(a,i.innerText))o=t;else if(-1===me.indexOf(t)||Ki(a,i.innerText))continue;const l=ji(i.getAttribute("href")||"",t),s=e[l];o=(null==s?void 0:s.correction)?null==s?void 0:s.correction:o||Hi(i);const u={href:(null==s?void 0:s.href)||i.getAttribute("href")||"",term:(null==s?void 0:s.term)||t,correction:(null==s?void 0:s.correction)||o,approved:(n=null==s?void 0:s.approved,null!=n&&(null==s?void 0:s.approved)),id:l};r=i,qi[l]=r,Gi(u),Fi(u)}var r,n;return[].slice.call(Vi)},Zi=pr({ruleId:de,rule:({context:{elements:t}})=>{const e=zi(t);Yr(de,e,e.length,e.filter((({approved:t})=>!t)).length),Vi.length=0},isTargetElement:t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE||"A"!==t.nodeName)return!1;const e=t.getAttribute("href");if(!e||!/(^http|^tel:|^mailto:)/.test(e))return!1;const r=t.getAttribute("aria-label");if(null==r?void 0:r.trim())return!1;const n=t.getAttribute("aria-labelledby");return!(null==n?void 0:n.trim())&&!t.hasAttribute(pe)},postMessageApi:{"vague-link-update":t=>{Gi(t)}}}),Yi=t=>{var e;const r=t.getAttribute("aria-label")||t.getAttribute("aria-labelledby")||t.textContent,n=null==(e=null==r?void 0:r.trim())?void 0:e.toLowerCase();return null!=n?n:null},Qi=t=>{const e=ue.includes(t.tagName)||t.hasAttribute("tabindex"),r=t.hasAttribute("disabled"),n="hidden"===t.getAttribute("type");return e&&!r&&!n},Ji=t=>{const e=document.querySelector("main")||document.querySelector('[role="main"]')||document.querySelector("h1");if(!e)return!0;let r=0;for(const n of t){if(n===e)break;if(Qi(n)&&(r++,r<=3)){const t=Yi(n);if(t&&"uw-skip-to-main"!==n.id&&ce.some((e=>t.toLowerCase().includes(e))))return!0}if(r>5)break}return r<=5},to=[],eo=pr({ruleId:se,rule:({context:{elements:t}})=>{const{pathname:e}=window.location;let r=0;const n=$.skipLinks,i=[{enabled:n.enabled,selector:n.config.anchorSelector}],o=!Ji(t);!to.includes(e)&&o&&(document.body.setAttribute("data-uw-rm-skl",""),r++),to.push(e),Yr(se,i,r,r)},isTargetElement:t=>t.matches("body *")&&"userwayAccessibilityIcon"!==t.id,postMessageApi:{"skip-links-get":e=>{const r=$.skipLinks;t(__spreadProps(__spreadValues({},e),{data:{enabled:r.enabled,selector:r.config.anchorSelector}}))}}}),ro="REMEDIATION_IFRAME_TITLE",no="data-uw-rm-iframe",io="data-correct-title",oo="un",ao="gn",lo=t=>{const e=t.getAttribute(io);e&&(t.setAttribute("title",e),t.setAttribute(no,ao),t.removeAttribute(io))},so=t=>{const e="src",r="class",n="id",i=t.getAttribute(e)||"",o=t.getAttribute(r)||"",a=t.getAttribute(n)||"",l=(t=>{let e="";try{const{hostname:r}=new URL(t);e=r.replace("www.","").split(".").slice(0,-1).join("-")}catch(r){}return e})(i)||(t=>t.replace(/\./g,"").split(" ").join("___"))(o)||a;l?(t.setAttribute("title",l),t.setAttribute(no,ao)):t.setAttribute(no,oo)},uo=(t,e)=>{const r=[];return e.forEach((e=>{r.push(t[e])})),r},co=t=>{const e=(t=>{const e={};let r=[];const n=[];t.forEach(((t,r)=>{var n;const i=null==(n=t.getAttribute("src"))?void 0:n.trim();i&&(e[i]?e[i].push(r):e[i]=[r])})),Object.keys(e).filter((t=>e[t].length>1)).forEach((r=>{n.push({src:r,elements:uo(t,e[r])})}));for(const i of n){i.elements.sort(((t,e)=>t.title.length-e.title.length));const t=i.elements[i.elements.length-1].title;t&&(i.elements.pop(),i.elements.forEach((e=>{e.setAttribute(io,t)})),r=r.length?r.concat(i.elements):i.elements)}return r})(t),r=(t=>t.filter((t=>!(t=>!!t.getAttribute("title"))(t))))(t).filter((t=>!e.find((e=>e===t)))),n=[...r,...e];for(const i of n)i.hasAttribute(io)?lo(i):so(i);return n},po=pr({ruleId:ro,rule:({context:{elements:t}})=>{const e=co(t);Yr(ro,[],e.length,0)},isTargetElement:t=>{const e="iframe"===t.tagName.toLowerCase(),r=t.hasAttribute(no);return e&&!r}}),mo=["aside .filter input[type=checkbox]",".snize-product-filters-list input[type=checkbox]"],go="data-uw-rm-accessible-cb",fo=pr({ruleId:"REMEDIATION_ACCESSIBLE_CHECKBOX_ID",rule:({context:{elements:t}})=>{t.forEach((t=>{var e;t.setAttribute(go,"");const r=t.style,{display:n}=getComputedStyle(t);if("none"===n&&(r.setProperty("height","0","important"),r.setProperty("width","0","important"),r.setProperty("margin","0","important")),r.setProperty("visibility","visible","important"),r.setProperty("display","inline-block","important"),r.setProperty("opacity","0","important"),r.setProperty("pointer-events","none","important"),!t.id)return;const i=Sn(t);i&&i.textContent&&!t.hasAttribute("aria-label")&&t.setAttribute("aria-label",null==(e=i.textContent)?void 0:e.trim())}))},isTargetElement:t=>{if(t.hasAttribute(go))return!1;if(!mo.some((e=>t.matches(e))))return!1;const{display:e,visibility:r}=window.getComputedStyle(t);return"none"===e||"hidden"===r}}),ho="REMEDIATION_SITE_LANGUAGE",bo="data-uw-rm-lang",Ao=["aa","ab","af","am","ar","as","ay","az","ba","be","bg","bh","bi","bn","bo","br","ca","ceb","co","cs","cy","da","de","div","dz","el","en","eo","es","et","eu","fa","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","ha","haw","he","hi","hr","hu","hy","ia","id","ie","ik","id","is","it","iw","ja","ji","jw","ka","kk","kl","km","kn","ko","kok","ks","ku","ky","kz","la","ln","lo","ls","lt","lv","mg","mi","mk","ml","mn","mo","mr","ms","mt","my","na","nb-no","ne","nl","nn-no","no","oc","om","or","pa","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sb","sd","sg","sh","si","sk","sl","sm","sn","so","sq","sr","sr-Latn","ss","st","su","sv","sw","sx","syr","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","uk","ur","us","uz","vi","vo","wo","xh","yi","yo","zh","zu","ilo","prs","eu","hmn","hy"],Eo=t=>{if(!t||t.length>t.trim().length)return!1;let e=t;return t.indexOf("-")>-1&&([e]=t.split("-")),t.indexOf("_")>-1&&([e]=t.split("_")),Ao.includes(e.toLowerCase())},yo=pr({ruleId:ho,rule:({context:{elements:t}})=>{const{widgetCorrection:e,fixedItemsNumber:r}=(t=>{const e=z().Language,r=`${g(window.location.pathname)}`,n=e.find((t=>t.page===r)),i={fixedItemsNumber:0,widgetCorrection:{}};return n&&document.documentElement.setAttribute("lang",n.correction),t.forEach((t=>{let e=t.getAttribute("lang"),r=t.getAttribute("xml:lang"),n=!1;r&&!Eo(r)&&(t.removeAttribute("xml:lang"),r=null,n=!0),e&&!Eo(e)&&(t.removeAttribute("lang"),e=null,n=!0),t!==document.documentElement||e||(e=q||"en",t.setAttribute("lang",e),n=!0),e&&r&&e!==r&&(n=!0,t.setAttribute("xml:lang",e)),t.setAttribute(bo,`${n}`),n&&i.fixedItemsNumber++})),i.widgetCorrection={count:i.fixedItemsNumber,lang:n},i})(t);Yr(ho,[e],r,0)},isTargetElement:t=>{const e=!!t.getAttribute("lang")||!!t.getAttribute("xml:lang"),r="HTML"===t.tagName,n=t.hasAttribute(bo);return(e||r)&&!n}}),vo=t=>__async(this,null,(function*(){const e=UserWayWidgetApp.getLib("remediation_utils"),r=[];for(const i of t)!i.hasAttribute(lr)&&r.indexOf(i)<0&&r.push(i);if($.pdf.config.quotaExceeded)for(const t of r)t.setAttribute(lr,sr.IN_PROCESSING_OR_QUOTA_EXCEEDED);else try{const t=yield e.sendBackEnd("/br-links/v0/pdf-links",null,{page:window.location.pathname,fullPage:window.location.href,links:r.map((t=>t.href))}),n=t&&t.response&&JSON.parse(t.response);for(let e=0;e<r.length;e++){const t=r[e],i=`${n.statuses[e]}`;[sr.INVALID_LINK,sr.VALID_LINK,sr.IN_PROCESSING_OR_QUOTA_EXCEEDED].indexOf(i)>-1&&t.setAttribute(lr,`${i}`)}}catch(n){}})),_o={},wo=t=>__async(this,null,(function*(){const e=[],r=[],n=[];for(let o=0;o<t.length;o++){const a=t[o],l=a.href.split("?")[0];if(!l)continue;const s=`${g(l)}`,u=(i=a.href).substring(i.lastIndexOf("/")+1),c=a.hasAttribute("data-uw-pdf-rem");if(_o[s]){const t=_o[s].rem_url;t&&!c&&(a.setAttribute(ar,a.href),a.href="https://cdn.userway.org/"+t),n.indexOf(l)<0&&(r.push(__spreadProps(__spreadValues({},_o[s]),{name:u,pdf_url:l,pdf_link:a.innerText,pdf_isDone:!!t||c})),n.push(l))}else{const t=a.hasAttribute(lr)&&a.getAttribute(lr)===sr.VALID_LINK,i=a.hasAttribute(lr)&&a.getAttribute(lr)===sr.INVALID_LINK;t&&!c&&e.push({hash:s,url:l}),n.indexOf(l.toLowerCase())<0&&(r.push({pdf_url:a.href,pdf_hash:s,pdf_link:a.innerText,name:u,status:c?"DONE":null,validityCheckFailed:i,id:`not_created-${o}`,pdf_isDone:c}),n.push(l.toLowerCase()))}a.setAttribute(or,"")}var i;return{widgetCorrectionsList:r,backendCorrectionsList:e}})),To=pr({ruleId:ir,rule:t=>__async(this,[t],(function*({context:{elements:t}}){(()=>{const t=z().Pdfs;for(const e of t)_o[e.pdf_hash]=e})(),yield vo(t);const{widgetCorrectionsList:e,backendCorrectionsList:r}=yield wo(t);Yr(ir,e,e.length,e.length,{items:r,path:"pdf",props:{page:window.location.pathname}})})),isTargetElement:t=>{var e,r;if(!t||t.nodeType!==Node.ELEMENT_NODE||"A"!==t.nodeName)return!1;if(t.hasAttribute(or))return!1;if(t.hasAttribute(ar))return!1;const n=null!=(r=null==(e=t.href)?void 0:e.split("?")[0])?r:null;if(!n)return!1;const i=null==n?void 0:n.match(/\.pdf($|\?)/i);let o=!1;const a=new URLSearchParams(t.href);for(const[,l]of a.entries())(null==l?void 0:l.match(/\.pdf($|\?)/i))&&(o=!0);return!(!i&&!o)}}),No=(t,e)=>{t.setAttribute("role","heading"),t.setAttribute("aria-level",`${e}`),t.setAttribute(Le,"level")},xo=t=>{if(/(h\d)/i.test(t.nodeName))return+t.nodeName.slice(1);const e=t.getAttribute("aria-level");return e?+e:0},Io=pr({ruleId:er,rule:({context:{elements:t}})=>{const e=[];if(t.length){let r,n=0;for(let i=0;i<t.length;i++){const o=t[i];if(o.hasAttribute("data-uw-ignore-rm-heading"))continue;r=xo(o);const a=l(o);if(1===r&&o.hasAttribute(rr)){n=1;continue}const s={type:"CONTENT",level:r,content:a,approved:!0,xpath:f(o),autofix:!0,previousLevel:0};if(a&&1===r&&0!==i&&(o.setAttribute("role","heading"),o.setAttribute("aria-level","2"),o.setAttribute(rr,"level"),s.previousLevel=1,s.approved=!1,s.type="LEVEL",r=2,s.level=2),null==a?void 0:a.trim())if(r>n+1){s.previousLevel=r;const t=n+1;s.type="LEVEL",o.setAttribute(rr,"level"),s.level=t,No(o,t),n++,s.approved=!1,e.push(s)}else n=r,e.push(s);else{o.setAttribute("role","presentation"),o.setAttribute("aria-hidden","true");const t=m(nr,"data-uw-rm-autofix-hide");o.appendChild(t),s.content=nr,s.type="HIDE",s.approved=!1,o.setAttribute(rr,"hide"),e.push(s)}}}else{const t=(()=>{const t=document.createElement("h1"),e=document.querySelector("main"),r=document.querySelector("[role=main]"),n=e||r;if(n){const e=document.title;return No(t,1),t.setAttribute("style","clip: rect(1px, 1px, 1px, 1px)!important;height:1px!important;width:1px!important;overflow:hidden!important;position:absolute!important;top:0!important;left:0!important;z-index:-1!important;opacity:0!important"),t.setAttribute(rr,"h1"),t.setAttribute("id","userway-h1-heading"),t.setAttribute("data-uw-rm-ignore",""),t.innerText=e,n.prepend(t),{headerElement:t,correction:{type:"ADD-H1",level:1,previousLevel:0,content:e,autofix:!0,approved:!1,xpath:f(t)}}}return{}})();t.correction&&t.headerElement&&(e.push(t.correction),((t,e)=>{const r=t,{Headings:n}=z(),i=n.find((t=>t.xpath===e));if(!i)return!1;const{correction:o}=i;o&&(r.textContent=o),r.setAttribute(rr,"")})(t.headerElement,f(t.headerElement)))}Yr(er,e,document.querySelectorAll(`[${rr}]`).length,0)},isTargetElement:t=>t.matches('h1, h2, h3, h4, h5, h6, [role="heading"]')&&!t.hasAttribute(rr)}),Lo="REMEDIATION_COLOR_CONTRAST",So="data-uw-rm-color-contrast",Co={AUTOFIX:"afix",PARSED:"prs",SET:"set"},Oo=["SVG","SCRIPT","IMG","STYLE"],Ro=["radio","checkbox","hidden"],ko={color:"",background:""},Do=[],Mo=()=>Do;let Po=!1;const Uo=()=>Po,Bo=t=>{Po=t};let Wo=!1;const $o=t=>{Wo=t};let Ho=!1;const jo=[],Vo=t=>{jo.push(...t)},Fo=()=>jo.map((({xpath:t})=>t));let Xo=[];const qo=t=>{Xo.push(...t)},Go=()=>Xo,Ko=()=>{Xo=Xo.filter((({xpath:t})=>!Fo().includes(t)))};let zo=[];const Zo=t=>{zo.push(...t)},Yo=()=>zo,Qo=t=>{const e=UserWayWidgetApp.getLib("inlineStyling");t.forEach((t=>{t.setAttribute(So,Co.PARSED),e.resetInlineStyles(t,So,ko)}))},Jo=t=>{if(!t)return["0","0","0","0","rgba(0,0,0,0)"];const e=t.replace(/[^\d,.]/g,"").split(",");return e[3]||(e[3]="1"),e[4]=t,e},ta=t=>{const{color:e}=getComputedStyle(t);return Jo(e)},ea=t=>{const e=getComputedStyle(t);return e.backgroundImage.includes("url")||e.background.includes("url")},ra=t=>t.startsWith("rgba")&&t.includes(",")&&0===parseFloat(t.split(",")[3])||"transparent"===t,na=t=>__async(this,null,(function*(){const e=getComputedStyle(t),r=document.body===t,n=e.background.includes("linear-gradient"),i=ea(t),o=new RegExp(/rgba?\(((25[0-5]|2[0-4]\d|1\d{1,2}|\d\d?)\s*,\s*?){2}(25[0-5]|2[0-4]\d|1\d{1,2}|\d\d?)\s*,?\s*([01]\.?\d*?)?\)/g);if(!r&&ra(e.backgroundColor)&&!n&&!i&&t.parentElement)return na(t.parentElement);let a;if(n&&ra(e.backgroundColor)&&(a=(e.background.match(o)||[]).find((t=>!ra(t)))),i&&ra(e.backgroundColor)){if([".svg"].some((t=>e.backgroundImage.includes(t)||e.background.includes(t)))&&t.parentElement)return na(t.parentElement);const r=(t=>{var e,r;if(null==(e=t.backgroundImage)?void 0:e.includes("url"))return t.backgroundImage.slice(4,-1).replace(/['"]/g,"");const n=null==(r=t.background)?void 0:r.match(/url\(["']?([^"']*)["']?\)/);return n?n[1]:null})(e);try{r&&(a=yield(l=r,new Promise(((t,e)=>{const r=document.createElement("canvas").getContext("2d");if(!r)return void e(new Error("Unable to get canvas context"));const n=new Image;n.setAttribute("crossOrigin",""),n.src=l,n.addEventListener("load",(()=>{r.imageSmoothingEnabled=!0,r.drawImage(n,0,0);const e=r.getImageData(0,0,1,1).data.slice(0,3);t((t=>`rgb(${t.join(",")})`)(e))})),n.addEventListener("error",(t=>{console.warn("Image color recognition error:",l),e(t)}))}))))}catch(s){if(t.parentElement)return na(t.parentElement)}if("rgb(0,0,0)"===a&&t.parentElement)return na(t.parentElement)}var l;return a=Jo(a||e.backgroundColor),(t=>!(parseFloat(t.opacity)<1||t.filter&&"none"!==t.filter))(e)||(a[3]=".1"),{backgroundColor:a,targetElement:t}})),ia=(t,e)=>{const r=__pow(10,e||0);return Math.round(t*r)/r};class oa{constructor(t){const e=[...t];"0"===e[3]&&(e[3]="1"),this.rgba=e.map((t=>ia(Number(t),3)))}get rgb(){var t;return null==(t=this.rgba)?void 0:t.slice(0,3)}get alpha(){return this.rgba[3]}set alpha(t){this.rgba[3]=t}get luminance(){const t=this.rgba.slice();for(let e=0;e<3;e++){let r=t[e];r/=255,r<.03928?r/=12.92:r=__pow((r+.055)/1.055,2.4),t[e]=r}return.2126*t[0]+.7152*t[1]+.0722*t[2]}clone(){return new oa(this.rgba)}isLight(){const t=(this.luminance+.05)/.05;return 1.05/(this.luminance+.05)<t}overlayOn(t){const e=this.clone(),r=this.alpha;if(r>=1)return e;for(let n=0;n<3;n++)e.rgba[n]=e.rgba[n]*r+t.rgba[n]*t.rgba[3]*(1-r);return e.rgba[3]=r+t.rgba[3]*(1-r),e}contrast(t){const e={ratio:null};if(this.alpha<1)return e;let r=t;t.alpha<1&&(r=t.overlayOn(this));const n=this.luminance+.05,i=r.luminance+.05,o=n/i;return e.ratio=i>n?1/o:o,e}}const aa=t=>72*Number(t.substring(0,t.length-2))/96,la=(t,e)=>t>=18||t>=14&&("bold"===e||parseInt(e,10)>=700),sa=t=>{if(String(t).includes(".")){const e=String(t).split(".");return 1===e.length?Number(t):Number(`${e[0]}.${e[1].charAt(0)}${e[1].charAt(1)}`)}return Number(t)},ua=(t,e,r,n)=>{const i={ratio:null,contrastRatio:null},o=new oa(e),a=new oa(r),l=o.contrast(a),{ratio:s}=l;if(!s)return;i.ratio=Number(s),i.contrastRatio=`${s}:1`;const u=window.getComputedStyle(t),c=u.getPropertyValue("font-size"),d=u.getPropertyValue("font-weight"),p=aa(c),m=((t,e)=>{if(Uo()){if(t&&e<4.5)return 4.5;if(e<7)return 7}return t&&e<3?3:e<4.5?4.5:null})(la(p,d),s);return m?{contrastData:{passRatio:m,ratio:sa(i.ratio),foreground:e,background:r,backgroundColorParentElement:n},isLightFg:o.isLight(),isLightBg:a.isLight(),expectedRatio:m,tagName:t.tagName,xpath:f(t),fontSize:p}:void 0},ca=t=>__async(this,null,(function*(){return(yield Promise.all(t.map((t=>__async(this,null,(function*(){Yo().map((({xpath:t})=>t)).includes(f(t))||t.setAttribute(So,Co.PARSED);const e=ta(t);let{backgroundColor:r,targetElement:n}=yield na(t);if(e.join("")===r.join(""))return null;return"0"===r[3]&&(r=["255","255","255","1","rgb(255, 255, 255)"]),ea(n)&&(n=t),ua(t,e,r,n)})))))).filter((t=>null!=t))}));class da{constructor(){this.D65=[95.047,100,108.883]}rgbToXyz(t){const[e,r,n]=t.map((t=>t/255)).map(this.sRGBtoLinearRGB);return[.4124*e+.3576*r+.1805*n,.2126*e+.7152*r+.0722*n,.0193*e+.1192*r+.9505*n].map((t=>100*t))}sRGBtoLinearRGB(t){return t<=.04045?t/12.92:__pow((t+.055)/1.055,2.4)}xyzToLab([t,e,r]){const[n,i,o]=[t,e,r].map(((t,e)=>{const r=t/this.D65[e];return r>.008856?__pow(r,1/3):7.787*r+16/116}));return[116*i-16,500*(n-i),200*(i-o)]}findL(t){return 116*__pow(t,1/3)-16}labToRgb(t){let e,r,n,i=(t[0]+16)/116,o=t[1]/500+i,a=i-t[2]/200;return o=.95047*(o*o*o>.008856?o*o*o:(o-16/116)/7.787),i=1*(i*i*i>.008856?i*i*i:(i-16/116)/7.787),a=1.08883*(a*a*a>.008856?a*a*a:(a-16/116)/7.787),e=3.2406*o+-1.5372*i+-.4986*a,r=-.9689*o+1.8758*i+.0415*a,n=.0557*o+-.204*i+1.057*a,e=e>.0031308?1.055*__pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*__pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*__pow(n,1/2.4)-.055:12.92*n,[255*Math.max(0,Math.min(1,e)),255*Math.max(0,Math.min(1,r)),255*Math.max(0,Math.min(1,n))].map((t=>ia(t)))}}const pa=(t,e,r,n=!1)=>{const i=new da,o=new oa(t),a=new oa(e),l=(()=>{const t=o.isLight(),e=a.isLight();if(t&&e||!t&&!e){if(o.luminance===a.luminance){const e=0===o.luminance,r=1===o.luminance;return!(!e||!n)||(!r||!n)&&t}return o.luminance>a.luminance}return t})(),s=((t=4.5,e,r)=>{let n,i=0;return i=r?(t+.05)*(e+.05)-.05:(e+.05)/t-.05,n=i<0?0:i>1?1:i,n})(r,a.luminance,l),u=t.slice(0,3).map(Number),c=i.rgbToXyz(u),[,d,p]=i.xyzToLab(c),m=i.findL(s)+(l?1:-1);return`rgb(${i.labToRgb([m,d,p]).join(",")})`},ma=t=>{let e=[];((t,e)=>{let r;{const t=e.split(".");r=t.length>1?e=>t.reduce(((t,e)=>{if(t&&"object"==typeof t&&e in t)return t[e]}),e):t=>t[e]}return t.reduce(((t,e)=>{const n=r(e),i=t.get(n)||[];return t.set(n,[...i,e]),t}),new Map)})(t,"contrastData.backgroundColorParentElement").forEach(((t,r)=>{const[n,...i]=t;!i.length||i.every((t=>t.contrastData.foreground[4]===n.contrastData.foreground[4]))?e.push(__spreadProps(__spreadValues({},n),{tagName:r.tagName,xpath:f(r),childrenIssues:t.map((t=>t.xpath))})):e=e.concat(t)}));return e.map((t=>{const{expectedRatio:e,contrastData:{foreground:r,background:n}}=t;let i=n[4];const o=new oa(n),a=pa(r,n,e),l=Jo(a),s=new oa(l),{ratio:u}=s.contrast(o);return u&&u<e&&(i=pa(n,l,e,!0)),__spreadProps(__spreadValues({},t),{suggestion:{foreground:a,background:i}})}))},ga=t=>t.map((t=>__spreadProps(__spreadValues({},t),{contrastData:__spreadProps(__spreadValues({},t.contrastData),{backgroundColorParentElement:null})}))),fa=(t,e,r,n=!0)=>__async(this,null,(function*(){var i;const o=UserWayWidgetApp.getLib("inlineStyling"),a=null==(i=e.childrenIssues)?void 0:i.map((t=>I(t))).filter((t=>!!t&&"boolean"!=typeof t)),{background:l,foreground:s}=e,u=Go(),c=[];if(null==a?void 0:a.length)o.applyInlineStyles(t,So,{background:l}),t.setAttribute(So,r?Co.AUTOFIX:Co.SET),a.forEach(((t,n)=>{o.applyInlineStyles(t,So,{color:s}),null==t||t.setAttribute(So,r?Co.AUTOFIX:Co.SET),c.push(__spreadProps(__spreadValues({},e),{xpath:e.childrenIssues?e.childrenIssues[n]:e.xpath}))}));else{const n={color:s,background:l};o.applyInlineStyles(t,So,n),t.setAttribute(So,r?Co.AUTOFIX:Co.SET),c.push(e)}if(!r&&n){Vo(c);const t=Fo(),e=u.filter((({xpath:e})=>t.includes(e)));Zo(e),Ko()}!Uo()&&r&&($.contrast.config.autofix=!0)})),ha=(t,e,r)=>{ca(t).then((t=>{var r,n;if(t){const i=ma(t);if(qo(i),Ko(),(()=>{if(!$.contrast.enabled)return;const t=UserWayWidgetApp.getLib("remediation_manager"),e=UserWayWidgetApp.getLib("remediation_helper_outcome");if(!e.of)return;const r=Go(),n=r.concat(Yo()),i=e.of(Lo,{items:ga(n),acceptedFixes:Fo(),autofix:$.contrast.config.autofix},null,r.length,0);t.HelperCallbackAggregator.onHelperRemediationCompleted(i)})(),e)for(const t of i){const e=I(t.xpath);if(e){const i={xpath:t.xpath,background:(null==(r=t.suggestion)?void 0:r.background)||"",foreground:(null==(n=t.suggestion)?void 0:n.foreground)||"",childrenIssues:t.childrenIssues};fa(e,i,!0)}}}}))},ba=()=>{const t=UserWayWidgetApp.getLib("inlineStyling"),e=Object.keys(Co).map((t=>Co[t])).filter((t=>t!==Co.SET)).map((t=>`[${So}=${t}]`)).join(", ");[].slice.call(document.querySelectorAll(e)).forEach((e=>{e.getAttribute(So)===Co.AUTOFIX&&t.resetInlineStyles(e,So,ko),e.removeAttribute(So)})),Xo=[]},Aa=()=>{ba(),Bo(!1),$o(!1),Yo().forEach((t=>{var e,r;const n=L(t.xpath);if(n){const i={xpath:t.xpath,background:(null==(e=t.suggestion)?void 0:e.background)||"",foreground:(null==(r=t.suggestion)?void 0:r.foreground)||"",childrenIssues:t.childrenIssues};fa(n,i,!1)}}))},Ea=(t,e)=>__async(this,[t,e],(function*(t,{background:e,foreground:r,xpath:n,childrenIssues:i}){const o=ta(t),{backgroundColor:a,targetElement:l}=yield na(t);let s=l;ea(s)&&(s=t);const u=window.getComputedStyle(t),c=u.getPropertyValue("font-size"),d=u.getPropertyValue("font-weight"),p=aa(c),m=la(p,d)?3:4.5;return{contrastData:{passRatio:m,ratio:m,foreground:o,background:a,backgroundColorParentElement:s},suggestion:{foreground:r,background:e},expectedRatio:m,tagName:t.tagName,xpath:n,fontSize:p,childrenIssues:i}})),ya=()=>__async(this,null,(function*(){const{Contrast:t}=z();t.length&&!Ho&&(Ho=!0,Vo(t),t.map((t=>__async(this,null,(function*(){const e=t.xpath&&I(t.xpath);if(!e)return;fa(e,t,!1,!1);const r=yield Ea(e,t);Zo([r])})))))})),va=pr({ruleId:Lo,rule:({context:{elements:t}})=>{(t=>{Do.push(...t)})(t);const e=Boolean(F["userway-s18"].value);Bo(e),ya(),($.contrast.config.autofix&&$.contrast.enabled||e)&&($o(!0),ha(t,!0))},isTargetElement:t=>{if(t.hasAttribute(So))return!1;if(t.hasAttribute("data-uw-rm-ignore"))return!1;const{tagName:e}=t;return!Oo.includes(e)&&(("INPUT"!==e||!Ro.includes(t.type))&&(t=>!!Array.from(t.childNodes).some((({nodeType:t,nodeValue:e})=>t===Node.TEXT_NODE&&e&&-1===(null==e?void 0:e.search(/^\s+$/i))))||t instanceof HTMLInputElement&&t.value.length>0||t instanceof HTMLSelectElement&&t.options.length>0||!!(t instanceof HTMLInputElement&&["reset","submit"].includes(t.type)))(t))},postMessageApi:{"enable-color-contrast":()=>{if($.contrast.enabled&&(Uo()&&Aa(),!Wo)){$o(!0);const t=Mo();ha(t,!1)}},"enable-smart-contrast":()=>{ba(),Bo(!0),$o(!0),ha(Mo(),!0)},"disable-smart-contrast":Aa,"fix-color-contrast":t=>{t.forEach((t=>{const e=I(t.xpath);e&&fa(e,t,!1)}))},"fix-all-color-contrast":()=>{Go().forEach((t=>{var e,r;const n=I(t.xpath);n&&!(t=>{const e=t.getAttribute(So);return null!==e&&[Co.AUTOFIX,Co.SET].includes(e)})(n)&&fa(n,{xpath:t.xpath,background:(null==(e=t.suggestion)?void 0:e.background)||"",foreground:(null==(r=t.suggestion)?void 0:r.foreground)||"",childrenIssues:t.childrenIssues},!0)})),$.contrast.config.autofix=!0},"reset-all":()=>{const t=[...document.querySelectorAll(`[${So}]`)];Qo(t),jo.length=0,qo(Yo()),zo=[]},"reset-autofixed":()=>{$.contrast.config.autofix=!1;const t=[].slice.call(document.querySelectorAll(`[${So}=${Co.AUTOFIX}]`));Qo(t)}}}),_a=[[gi,Jn,Wn,ci,In,Bi,Zi,va,fo,yo,po],[Li,Gn,Oi,eo,To],[Dr,Io]],wa=Object.freeze(Object.defineProperty({__proto__:null,RulesGroups:_a},Symbol.toStringTag,{value:"Module"})),Ta=[[va]],Na=(Symbol.toStringTag,[In]),xa=[Na];Symbol.toStringTag}();
